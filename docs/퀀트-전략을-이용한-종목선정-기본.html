<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 퀀트 전략을 이용한 종목선정 (기본) | R을 이용한 퀀트 투자 포트폴리오 만들기(개정판)</title>
  <meta name="description" content="Chapter 9 퀀트 전략을 이용한 종목선정 (기본) | R을 이용한 퀀트 투자 포트폴리오 만들기(개정판)" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 퀀트 전략을 이용한 종목선정 (기본) | R을 이용한 퀀트 투자 포트폴리오 만들기(개정판)" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="hyunyulhenry/quant_cookbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 퀀트 전략을 이용한 종목선정 (기본) | R을 이용한 퀀트 투자 포트폴리오 만들기(개정판)" />
  
  
  

<meta name="author" content="이현열" />


<meta name="date" content="2021-11-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="데이터-분석-및-시각화하기.html"/>
<link rel="next" href="퀀트-전략을-이용한-종목선정-심화.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>
<script src="libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R을 이용한 퀀트 투자 포트폴리오 만들기</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#지은이-소개"><i class="fa fa-check"></i>지은이 소개</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#머리말"><i class="fa fa-check"></i>머리말</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#이-책의-구성"><i class="fa fa-check"></i>이 책의 구성</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#이-책에서-다루지-않은-주제"><i class="fa fa-check"></i>이 책에서 다루지 않은 주제</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#도움이-될-만한-자료들"><i class="fa fa-check"></i>도움이 될 만한 자료들</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#이-책의-지원-페이지"><i class="fa fa-check"></i>이 책의 지원 페이지</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#종목과-관련된-유의사항"><i class="fa fa-check"></i>종목과 관련된 유의사항</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#세션정보"><i class="fa fa-check"></i>세션정보</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html"><i class="fa fa-check"></i>R 기초 배우기</a>
<ul>
<li class="chapter" data-level="0.1" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#r과-r-스튜디오-설치하기"><i class="fa fa-check"></i><b>0.1</b> R과 R 스튜디오 설치하기</a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#r-설치하기"><i class="fa fa-check"></i><b>0.1.1</b> R 설치하기</a></li>
<li class="chapter" data-level="0.1.2" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#r-스튜디오-설치하기"><i class="fa fa-check"></i><b>0.1.2</b> R 스튜디오 설치하기</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#r-스튜디오-화면-구성"><i class="fa fa-check"></i><b>0.2</b> R 스튜디오 화면 구성</a></li>
<li class="chapter" data-level="0.3" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#r-스튜디오-설정하기"><i class="fa fa-check"></i><b>0.3</b> R 스튜디오 설정하기</a></li>
<li class="chapter" data-level="0.4" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#프로젝트-만들기"><i class="fa fa-check"></i><b>0.4</b> 프로젝트 만들기</a></li>
<li class="chapter" data-level="0.5" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#데이터-타입별-다루기"><i class="fa fa-check"></i><b>0.5</b> 데이터 타입별 다루기</a>
<ul>
<li class="chapter" data-level="0.5.1" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#숫자-형태"><i class="fa fa-check"></i><b>0.5.1</b> 숫자 형태</a></li>
<li class="chapter" data-level="0.5.2" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#문자열-형태"><i class="fa fa-check"></i><b>0.5.2</b> 문자열 형태</a></li>
<li class="chapter" data-level="0.5.3" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#날짜-형태"><i class="fa fa-check"></i><b>0.5.3</b> 날짜 형태</a></li>
</ul></li>
<li class="chapter" data-level="0.6" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#데이터-구조-다루기"><i class="fa fa-check"></i><b>0.6</b> 데이터 구조 다루기</a>
<ul>
<li class="chapter" data-level="0.6.1" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#벡터-다루기"><i class="fa fa-check"></i><b>0.6.1</b> 벡터 다루기</a></li>
<li class="chapter" data-level="0.6.2" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#리스트-다루기"><i class="fa fa-check"></i><b>0.6.2</b> 리스트 다루기</a></li>
<li class="chapter" data-level="0.6.3" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#데이터프레임-다루기"><i class="fa fa-check"></i><b>0.6.3</b> 데이터프레임 다루기</a></li>
<li class="chapter" data-level="0.6.4" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#결측치-처리하기"><i class="fa fa-check"></i><b>0.6.4</b> 결측치 처리하기</a></li>
</ul></li>
<li class="chapter" data-level="0.7" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#데이터-불러오기-및-내보내기"><i class="fa fa-check"></i><b>0.7</b> 데이터 불러오기 및 내보내기</a>
<ul>
<li class="chapter" data-level="0.7.1" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#워킹-디렉터리"><i class="fa fa-check"></i><b>0.7.1</b> 워킹 디렉터리</a></li>
<li class="chapter" data-level="0.7.2" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#csv-파일-불러오기-및-저장하기"><i class="fa fa-check"></i><b>0.7.2</b> csv 파일 불러오기 및 저장하기</a></li>
<li class="chapter" data-level="0.7.3" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#엑셀-파일-불러오기-및-저장하기"><i class="fa fa-check"></i><b>0.7.3</b> 엑셀 파일 불러오기 및 저장하기</a></li>
</ul></li>
<li class="chapter" data-level="0.8" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#효율성과-가독성-높이기"><i class="fa fa-check"></i><b>0.8</b> 효율성과 가독성 높이기</a>
<ul>
<li class="chapter" data-level="0.8.1" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#함수"><i class="fa fa-check"></i><b>0.8.1</b> 함수</a></li>
<li class="chapter" data-level="0.8.2" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#루프-구문"><i class="fa fa-check"></i><b>0.8.2</b> 루프 구문</a></li>
<li class="chapter" data-level="0.8.3" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#파이프-오퍼레이터"><i class="fa fa-check"></i><b>0.8.3</b> 파이프 오퍼레이터</a></li>
</ul></li>
<li class="chapter" data-level="0.9" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#데이터-구조-변형하기"><i class="fa fa-check"></i><b>0.9</b> 데이터 구조 변형하기</a>
<ul>
<li class="chapter" data-level="0.9.1" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#tidyr-패키지를-이용한-데이터-모양-바꾸기"><i class="fa fa-check"></i><b>0.9.1</b> <code>tidyr</code> 패키지를 이용한 데이터 모양 바꾸기</a></li>
<li class="chapter" data-level="0.9.2" data-path="r-기초-배우기.html"><a href="r-기초-배우기.html#dplyr-패키지를-이용한-데이터-변형하기"><i class="fa fa-check"></i><b>0.9.2</b> <code>dplyr</code> 패키지를 이용한 데이터 변형하기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="퀀트-투자의-심장-데이터와-프로그래밍.html"><a href="퀀트-투자의-심장-데이터와-프로그래밍.html"><i class="fa fa-check"></i><b>1</b> 퀀트 투자의 심장: 데이터와 프로그래밍</a>
<ul>
<li class="chapter" data-level="1.1" data-path="퀀트-투자의-심장-데이터와-프로그래밍.html"><a href="퀀트-투자의-심장-데이터와-프로그래밍.html#데이터-구하기"><i class="fa fa-check"></i><b>1.1</b> 데이터 구하기</a></li>
<li class="chapter" data-level="1.2" data-path="퀀트-투자의-심장-데이터와-프로그래밍.html"><a href="퀀트-투자의-심장-데이터와-프로그래밍.html#퀀트-투자와-프로그래밍"><i class="fa fa-check"></i><b>1.2</b> 퀀트 투자와 프로그래밍</a></li>
<li class="chapter" data-level="1.3" data-path="퀀트-투자의-심장-데이터와-프로그래밍.html"><a href="퀀트-투자의-심장-데이터와-프로그래밍.html#r-프로그램"><i class="fa fa-check"></i><b>1.3</b> R 프로그램</a></li>
<li class="chapter" data-level="1.4" data-path="퀀트-투자의-심장-데이터와-프로그래밍.html"><a href="퀀트-투자의-심장-데이터와-프로그래밍.html#퀀트-투자에-유용한-r-패키지"><i class="fa fa-check"></i><b>1.4</b> 퀀트 투자에 유용한 R 패키지</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html"><i class="fa fa-check"></i><b>2</b> 크롤링을 위한 기본 지식</a>
<ul>
<li class="chapter" data-level="2.1" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#인코딩의-이해와-r에서-utf-8-설정하기"><i class="fa fa-check"></i><b>2.1</b> 인코딩의 이해와 R에서 UTF-8 설정하기</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#인간과-컴퓨터-간-번역의-시작-ascii"><i class="fa fa-check"></i><b>2.1.1</b> 인간과 컴퓨터 간 번역의 시작, ASCII</a></li>
<li class="chapter" data-level="2.1.2" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#한글-인코딩-방식의-종류"><i class="fa fa-check"></i><b>2.1.2</b> 한글 인코딩 방식의 종류</a></li>
<li class="chapter" data-level="2.1.3" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#r에서-utf-8-설정하기"><i class="fa fa-check"></i><b>2.1.3</b> R에서 UTF-8 설정하기</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#웹의-동작-방식"><i class="fa fa-check"></i><b>2.2</b> 웹의 동작 방식</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#http"><i class="fa fa-check"></i><b>2.2.1</b> HTTP</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#html과-css"><i class="fa fa-check"></i><b>2.3</b> HTML과 CSS</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#html-기본-구조"><i class="fa fa-check"></i><b>2.3.1</b> HTML 기본 구조</a></li>
<li class="chapter" data-level="2.3.2" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#태그와-속성"><i class="fa fa-check"></i><b>2.3.2</b> 태그와 속성</a></li>
<li class="chapter" data-level="2.3.3" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#h-태그와-p-태그"><i class="fa fa-check"></i><b>2.3.3</b> h 태그와 p 태그</a></li>
<li class="chapter" data-level="2.3.4" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#리스트를-나타내는-ul-태그와-ol-태그"><i class="fa fa-check"></i><b>2.3.4</b> 리스트를 나타내는 ul 태그와 ol 태그</a></li>
<li class="chapter" data-level="2.3.5" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#table-태그"><i class="fa fa-check"></i><b>2.3.5</b> table 태그</a></li>
<li class="chapter" data-level="2.3.6" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#a-태그와-img-태그-및-속성"><i class="fa fa-check"></i><b>2.3.6</b> a 태그와 img 태그 및 속성</a></li>
<li class="chapter" data-level="2.3.7" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#div-태그"><i class="fa fa-check"></i><b>2.3.7</b> div 태그</a></li>
<li class="chapter" data-level="2.3.8" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#css"><i class="fa fa-check"></i><b>2.3.8</b> CSS</a></li>
<li class="chapter" data-level="2.3.9" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#클래스와-id"><i class="fa fa-check"></i><b>2.3.9</b> 클래스와 id</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#파이프-오퍼레이터-1"><i class="fa fa-check"></i><b>2.4</b> 파이프 오퍼레이터(<code>%&gt;%</code>)</a></li>
<li class="chapter" data-level="2.5" data-path="크롤링을-위한-기본-지식.html"><a href="크롤링을-위한-기본-지식.html#오류에-대한-예외처리"><i class="fa fa-check"></i><b>2.5</b> 오류에 대한 예외처리</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="api를-이용한-데이터-수집.html"><a href="api를-이용한-데이터-수집.html"><i class="fa fa-check"></i><b>3</b> API를 이용한 데이터 수집</a>
<ul>
<li class="chapter" data-level="3.1" data-path="api를-이용한-데이터-수집.html"><a href="api를-이용한-데이터-수집.html#api를-이용한-quandl-데이터-다운로드"><i class="fa fa-check"></i><b>3.1</b> API를 이용한 Quandl 데이터 다운로드</a></li>
<li class="chapter" data-level="3.2" data-path="api를-이용한-데이터-수집.html"><a href="api를-이용한-데이터-수집.html#getsymbols-함수를-이용한-api-다운로드"><i class="fa fa-check"></i><b>3.2</b> <code>getSymbols()</code> 함수를 이용한 API 다운로드</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="api를-이용한-데이터-수집.html"><a href="api를-이용한-데이터-수집.html#주가-다운로드"><i class="fa fa-check"></i><b>3.2.1</b> 주가 다운로드</a></li>
<li class="chapter" data-level="3.2.2" data-path="api를-이용한-데이터-수집.html"><a href="api를-이용한-데이터-수집.html#국내-종목-주가-다운로드"><i class="fa fa-check"></i><b>3.2.2</b> 국내 종목 주가 다운로드</a></li>
<li class="chapter" data-level="3.2.3" data-path="api를-이용한-데이터-수집.html"><a href="api를-이용한-데이터-수집.html#fred-데이터-다운로드"><i class="fa fa-check"></i><b>3.2.3</b> FRED 데이터 다운로드</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html"><i class="fa fa-check"></i><b>4</b> 크롤링 이해하기</a>
<ul>
<li class="chapter" data-level="4.1" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html#get과-post-방식-이해하기"><i class="fa fa-check"></i><b>4.1</b> GET과 POST 방식 이해하기</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html#get-방식"><i class="fa fa-check"></i><b>4.1.1</b> GET 방식</a></li>
<li class="chapter" data-level="4.1.2" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html#post-방식"><i class="fa fa-check"></i><b>4.1.2</b> POST 방식</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html#크롤링-예제"><i class="fa fa-check"></i><b>4.2</b> 크롤링 예제</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html#금융-속보-크롤링"><i class="fa fa-check"></i><b>4.2.1</b> 금융 속보 크롤링</a></li>
<li class="chapter" data-level="4.2.2" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html#기업공시채널에서-오늘의-공시-불러오기"><i class="fa fa-check"></i><b>4.2.2</b> 기업공시채널에서 오늘의 공시 불러오기</a></li>
<li class="chapter" data-level="4.2.3" data-path="크롤링-이해하기.html"><a href="크롤링-이해하기.html#네이버-금융에서-주식티커-크롤링"><i class="fa fa-check"></i><b>4.2.3</b> 네이버 금융에서 주식티커 크롤링</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="금융-데이터-수집하기-기본.html"><a href="금융-데이터-수집하기-기본.html"><i class="fa fa-check"></i><b>5</b> 금융 데이터 수집하기 (기본)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="금융-데이터-수집하기-기본.html"><a href="금융-데이터-수집하기-기본.html#한국거래소의-산업별-현황-및-개별지표-크롤링"><i class="fa fa-check"></i><b>5.1</b> 한국거래소의 산업별 현황 및 개별지표 크롤링</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="금융-데이터-수집하기-기본.html"><a href="금융-데이터-수집하기-기본.html#업종분류-현황-크롤링"><i class="fa fa-check"></i><b>5.1.1</b> 업종분류 현황 크롤링</a></li>
<li class="chapter" data-level="5.1.2" data-path="금융-데이터-수집하기-기본.html"><a href="금융-데이터-수집하기-기본.html#개별종목-지표-크롤링"><i class="fa fa-check"></i><b>5.1.2</b> 개별종목 지표 크롤링</a></li>
<li class="chapter" data-level="5.1.3" data-path="금융-데이터-수집하기-기본.html"><a href="금융-데이터-수집하기-기본.html#최근-영업일-기준-데이터-받기"><i class="fa fa-check"></i><b>5.1.3</b> 최근 영업일 기준 데이터 받기</a></li>
<li class="chapter" data-level="5.1.4" data-path="금융-데이터-수집하기-기본.html"><a href="금융-데이터-수집하기-기본.html#거래소-데이터-정리하기"><i class="fa fa-check"></i><b>5.1.4</b> 거래소 데이터 정리하기</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="금융-데이터-수집하기-기본.html"><a href="금융-데이터-수집하기-기본.html#wics-기준-섹터정보-크롤링"><i class="fa fa-check"></i><b>5.2</b> WICS 기준 섹터정보 크롤링</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html"><i class="fa fa-check"></i><b>6</b> 금융 데이터 수집하기 (심화)</a>
<ul>
<li class="chapter" data-level="6.1" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#수정주가-크롤링"><i class="fa fa-check"></i><b>6.1</b> 수정주가 크롤링</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#개별종목-주가-크롤링"><i class="fa fa-check"></i><b>6.1.1</b> 개별종목 주가 크롤링</a></li>
<li class="chapter" data-level="6.1.2" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#전-종목-주가-크롤링"><i class="fa fa-check"></i><b>6.1.2</b> 전 종목 주가 크롤링</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#재무제표-및-가치지표-크롤링"><i class="fa fa-check"></i><b>6.2</b> 재무제표 및 가치지표 크롤링</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#재무제표-다운로드"><i class="fa fa-check"></i><b>6.2.1</b> 재무제표 다운로드</a></li>
<li class="chapter" data-level="6.2.2" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#가치지표-계산하기"><i class="fa fa-check"></i><b>6.2.2</b> 가치지표 계산하기</a></li>
<li class="chapter" data-level="6.2.3" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#전-종목-재무제표-및-가치지표-다운로드"><i class="fa fa-check"></i><b>6.2.3</b> 전 종목 재무제표 및 가치지표 다운로드</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#dart의-open-api를-이용한-데이터-수집하기"><i class="fa fa-check"></i><b>6.3</b> DART의 Open API를 이용한 데이터 수집하기</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#api-key발급-및-추가하기"><i class="fa fa-check"></i><b>6.3.1</b> API Key발급 및 추가하기</a></li>
<li class="chapter" data-level="6.3.2" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#고유번호-다운로드"><i class="fa fa-check"></i><b>6.3.2</b> 고유번호 다운로드</a></li>
<li class="chapter" data-level="6.3.3" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#공시검색"><i class="fa fa-check"></i><b>6.3.3</b> 공시검색</a></li>
<li class="chapter" data-level="6.3.4" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#사업보고서-주요-정보"><i class="fa fa-check"></i><b>6.3.4</b> 사업보고서 주요 정보</a></li>
<li class="chapter" data-level="6.3.5" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#상장기업-재무정보"><i class="fa fa-check"></i><b>6.3.5</b> 상장기업 재무정보</a></li>
<li class="chapter" data-level="6.3.6" data-path="금융-데이터-수집하기-심화.html"><a href="금융-데이터-수집하기-심화.html#단일회사-전체-재무제표"><i class="fa fa-check"></i><b>6.3.6</b> 단일회사 전체 재무제표</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="데이터-정리하기.html"><a href="데이터-정리하기.html"><i class="fa fa-check"></i><b>7</b> 데이터 정리하기</a>
<ul>
<li class="chapter" data-level="7.1" data-path="데이터-정리하기.html"><a href="데이터-정리하기.html#주가-정리하기"><i class="fa fa-check"></i><b>7.1</b> 주가 정리하기</a></li>
<li class="chapter" data-level="7.2" data-path="데이터-정리하기.html"><a href="데이터-정리하기.html#재무제표-정리하기"><i class="fa fa-check"></i><b>7.2</b> 재무제표 정리하기</a></li>
<li class="chapter" data-level="7.3" data-path="데이터-정리하기.html"><a href="데이터-정리하기.html#가치지표-정리하기"><i class="fa fa-check"></i><b>7.3</b> 가치지표 정리하기</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html"><i class="fa fa-check"></i><b>8</b> 데이터 분석 및 시각화하기</a>
<ul>
<li class="chapter" data-level="8.1" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#종목정보-데이터-분석"><i class="fa fa-check"></i><b>8.1</b> 종목정보 데이터 분석</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#join-데이터-합치기-1"><i class="fa fa-check"></i><b>8.1.1</b> <code>*_join</code>: 데이터 합치기</a></li>
<li class="chapter" data-level="8.1.2" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#glimpse-데이터-구조-확인하기"><i class="fa fa-check"></i><b>8.1.2</b> <code>glimpse()</code>: 데이터 구조 확인하기</a></li>
<li class="chapter" data-level="8.1.3" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#rename-열-이름-바꾸기"><i class="fa fa-check"></i><b>8.1.3</b> <code>rename()</code>: 열 이름 바꾸기</a></li>
<li class="chapter" data-level="8.1.4" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#distinct-고유한-값-확인"><i class="fa fa-check"></i><b>8.1.4</b> distinct(): 고유한 값 확인</a></li>
<li class="chapter" data-level="8.1.5" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#select-원하는-열만-선택"><i class="fa fa-check"></i><b>8.1.5</b> <code>select()</code>: 원하는 열만 선택</a></li>
<li class="chapter" data-level="8.1.6" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#mutate-열-생성-및-데이터-변형"><i class="fa fa-check"></i><b>8.1.6</b> <code>mutate()</code>: 열 생성 및 데이터 변형</a></li>
<li class="chapter" data-level="8.1.7" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#filter-조건을-충족하는-행-선택"><i class="fa fa-check"></i><b>8.1.7</b> <code>filter()</code>: 조건을 충족하는 행 선택</a></li>
<li class="chapter" data-level="8.1.8" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#summarize-요약-통곗값-계산"><i class="fa fa-check"></i><b>8.1.8</b> <code>summarize()</code>: 요약 통곗값 계산</a></li>
<li class="chapter" data-level="8.1.9" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#arrange-데이터-정렬"><i class="fa fa-check"></i><b>8.1.9</b> <code>arrange()</code>: 데이터 정렬</a></li>
<li class="chapter" data-level="8.1.10" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#row_number-순위-계산"><i class="fa fa-check"></i><b>8.1.10</b> <code>row_number()</code>: 순위 계산</a></li>
<li class="chapter" data-level="8.1.11" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#ntile-분위수-계산"><i class="fa fa-check"></i><b>8.1.11</b> <code>ntile()</code>: 분위수 계산</a></li>
<li class="chapter" data-level="8.1.12" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#group_by-그룹별로-데이터를-묶기"><i class="fa fa-check"></i><b>8.1.12</b> <code>group_by()</code>: 그룹별로 데이터를 묶기</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#ggplot-기초"><i class="fa fa-check"></i><b>8.2</b> <code>ggplot()</code> 기초</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#diamonds-데이터셋"><i class="fa fa-check"></i><b>8.2.1</b> diamonds 데이터셋</a></li>
<li class="chapter" data-level="8.2.2" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#data-aesthetics-geometrics"><i class="fa fa-check"></i><b>8.2.2</b> Data, Aesthetics, Geometrics</a></li>
<li class="chapter" data-level="8.2.3" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#facets"><i class="fa fa-check"></i><b>8.2.3</b> Facets</a></li>
<li class="chapter" data-level="8.2.4" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#statistics"><i class="fa fa-check"></i><b>8.2.4</b> Statistics</a></li>
<li class="chapter" data-level="8.2.5" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#coordinates"><i class="fa fa-check"></i><b>8.2.5</b> Coordinates</a></li>
<li class="chapter" data-level="8.2.6" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#theme"><i class="fa fa-check"></i><b>8.2.6</b> Theme</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#종목정보-시각화"><i class="fa fa-check"></i><b>8.3</b> 종목정보 시각화</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#geom_point-산점도-나타내기"><i class="fa fa-check"></i><b>8.3.1</b> <code>geom_point()</code>: 산점도 나타내기</a></li>
<li class="chapter" data-level="8.3.2" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#geom_histogram-히스토그램-나타내기"><i class="fa fa-check"></i><b>8.3.2</b> <code>geom_histogram()</code>: 히스토그램 나타내기</a></li>
<li class="chapter" data-level="8.3.3" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#geom_boxplot-박스-플롯-나타내기"><i class="fa fa-check"></i><b>8.3.3</b> <code>geom_boxplot()</code>: 박스 플롯 나타내기</a></li>
<li class="chapter" data-level="8.3.4" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#dplyr과-ggplot을-연결하여-사용하기"><i class="fa fa-check"></i><b>8.3.4</b> <code>dplyr</code>과 <code>ggplot</code>을 연결하여 사용하기</a></li>
<li class="chapter" data-level="8.3.5" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#geom_bar-막대-그래프-나타내기"><i class="fa fa-check"></i><b>8.3.5</b> <code>geom_bar()</code>: 막대 그래프 나타내기</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#주가-및-수익률-시각화"><i class="fa fa-check"></i><b>8.4</b> 주가 및 수익률 시각화</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#주가-그래프-나타내기"><i class="fa fa-check"></i><b>8.4.1</b> 주가 그래프 나타내기</a></li>
<li class="chapter" data-level="8.4.2" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#인터랙티브-그래프-나타내기"><i class="fa fa-check"></i><b>8.4.2</b> 인터랙티브 그래프 나타내기</a></li>
<li class="chapter" data-level="8.4.3" data-path="데이터-분석-및-시각화하기.html"><a href="데이터-분석-및-시각화하기.html#연도별-수익률-나타내기"><i class="fa fa-check"></i><b>8.4.3</b> 연도별 수익률 나타내기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html"><i class="fa fa-check"></i><b>9</b> 퀀트 전략을 이용한 종목선정 (기본)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#베타-이해하기"><i class="fa fa-check"></i><b>9.1</b> 베타 이해하기</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#베타-계산하기"><i class="fa fa-check"></i><b>9.1.1</b> 베타 계산하기</a></li>
<li class="chapter" data-level="9.1.2" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#베타-시각화"><i class="fa fa-check"></i><b>9.1.2</b> 베타 시각화</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#저변동성-전략"><i class="fa fa-check"></i><b>9.2</b> 저변동성 전략</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#저변동성-포트폴리오-구하기-일간-기준"><i class="fa fa-check"></i><b>9.2.1</b> 저변동성 포트폴리오 구하기: 일간 기준</a></li>
<li class="chapter" data-level="9.2.2" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#저변동성-포트폴리오-구하기-주간-기준"><i class="fa fa-check"></i><b>9.2.2</b> 저변동성 포트폴리오 구하기: 주간 기준</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#모멘텀-전략"><i class="fa fa-check"></i><b>9.3</b> 모멘텀 전략</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#모멘텀-포트폴리오-구하기-12개월-모멘텀"><i class="fa fa-check"></i><b>9.3.1</b> 모멘텀 포트폴리오 구하기: 12개월 모멘텀</a></li>
<li class="chapter" data-level="9.3.2" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#모멘텀-포트폴리오-구하기-위험조정-수익률"><i class="fa fa-check"></i><b>9.3.2</b> 모멘텀 포트폴리오 구하기: 위험조정 수익률</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#밸류-전략"><i class="fa fa-check"></i><b>9.4</b> 밸류 전략</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#밸류-포트폴리오-구하기-저pbr"><i class="fa fa-check"></i><b>9.4.1</b> 밸류 포트폴리오 구하기: 저PBR</a></li>
<li class="chapter" data-level="9.4.2" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#각-지표-결합하기"><i class="fa fa-check"></i><b>9.4.2</b> 각 지표 결합하기</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#퀄리티-전략"><i class="fa fa-check"></i><b>9.5</b> 퀄리티 전략</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#f-score"><i class="fa fa-check"></i><b>9.5.1</b> F-Score</a></li>
<li class="chapter" data-level="9.5.2" data-path="퀀트-전략을-이용한-종목선정-기본.html"><a href="퀀트-전략을-이용한-종목선정-기본.html#각-지표를-결합하기"><i class="fa fa-check"></i><b>9.5.2</b> 각 지표를 결합하기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html"><i class="fa fa-check"></i><b>10</b> 퀀트 전략을 이용한 종목선정 (심화)</a>
<ul>
<li class="chapter" data-level="10.1" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#섹터-중립-포트폴리오"><i class="fa fa-check"></i><b>10.1</b> 섹터 중립 포트폴리오</a></li>
<li class="chapter" data-level="10.2" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#마법공식"><i class="fa fa-check"></i><b>10.2</b> 마법공식</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#퀄리티와-밸류-간의-관계"><i class="fa fa-check"></i><b>10.2.1</b> 퀄리티와 밸류 간의 관계</a></li>
<li class="chapter" data-level="10.2.2" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#마법공식-이해하기"><i class="fa fa-check"></i><b>10.2.2</b> 마법공식 이해하기</a></li>
<li class="chapter" data-level="10.2.3" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#마법공식-구성하기"><i class="fa fa-check"></i><b>10.2.3</b> 마법공식 구성하기</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#이상치-데이터-제거-및-팩터의-결합"><i class="fa fa-check"></i><b>10.3</b> 이상치 데이터 제거 및 팩터의 결합</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#트림trim-이상치-데이터-삭제"><i class="fa fa-check"></i><b>10.3.1</b> 트림(Trim): 이상치 데이터 삭제</a></li>
<li class="chapter" data-level="10.3.2" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#윈저라이징winsorizing-이상치-데이터-대체"><i class="fa fa-check"></i><b>10.3.2</b> 윈저라이징(Winsorizing): 이상치 데이터 대체</a></li>
<li class="chapter" data-level="10.3.3" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#팩터의-결합-방법"><i class="fa fa-check"></i><b>10.3.3</b> 팩터의 결합 방법</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="퀀트-전략을-이용한-종목선정-심화.html"><a href="퀀트-전략을-이용한-종목선정-심화.html#멀티팩터-포트폴리오"><i class="fa fa-check"></i><b>10.4</b> 멀티팩터 포트폴리오</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html"><i class="fa fa-check"></i><b>11</b> 포트폴리오 구성</a>
<ul>
<li class="chapter" data-level="11.1" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#최소분산-포트폴리오"><i class="fa fa-check"></i><b>11.1</b> 최소분산 포트폴리오</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#slsqp-함수를-이용한-최적화"><i class="fa fa-check"></i><b>11.1.1</b> <code>slsqp()</code> 함수를 이용한 최적화</a></li>
<li class="chapter" data-level="11.1.2" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#solve.qp-함수를-이용한-최적화"><i class="fa fa-check"></i><b>11.1.2</b> <code>solve.QP()</code> 함수를 이용한 최적화</a></li>
<li class="chapter" data-level="11.1.3" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#optimalportfolio-함수를-이용한-최적화"><i class="fa fa-check"></i><b>11.1.3</b> <code>optimalPortfolio()</code> 함수를 이용한 최적화</a></li>
<li class="chapter" data-level="11.1.4" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#결괏값들의-비교"><i class="fa fa-check"></i><b>11.1.4</b> 결괏값들의 비교</a></li>
<li class="chapter" data-level="11.1.5" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#최소-및-최대-투자비중-제약조건"><i class="fa fa-check"></i><b>11.1.5</b> 최소 및 최대 투자비중 제약조건</a></li>
<li class="chapter" data-level="11.1.6" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#각-자산별-제약조건의-추가"><i class="fa fa-check"></i><b>11.1.6</b> 각 자산별 제약조건의 추가</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#최대분산효과-포트폴리오"><i class="fa fa-check"></i><b>11.2</b> 최대분산효과 포트폴리오</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#solve.qp-함수를-이용한-최적화-1"><i class="fa fa-check"></i><b>11.2.1</b> <code>solve.QP()</code> 함수를 이용한 최적화</a></li>
<li class="chapter" data-level="11.2.2" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#optimalportfolio-함수를-이용한-최적화-1"><i class="fa fa-check"></i><b>11.2.2</b> <code>optimalPortfolio()</code> 함수를 이용한 최적화</a></li>
<li class="chapter" data-level="11.2.3" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#최소-및-최대-투자비중-제약조건-1"><i class="fa fa-check"></i><b>11.2.3</b> 최소 및 최대 투자비중 제약조건</a></li>
<li class="chapter" data-level="11.2.4" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#각-자산-별-제약조건의-추가"><i class="fa fa-check"></i><b>11.2.4</b> 각 자산 별 제약조건의 추가</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#위험균형-포트폴리오"><i class="fa fa-check"></i><b>11.3</b> 위험균형 포트폴리오</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#주식-60와-채권-40-포트폴리오의-위험기여도"><i class="fa fa-check"></i><b>11.3.1</b> 주식 60%와 채권 40% 포트폴리오의 위험기여도</a></li>
<li class="chapter" data-level="11.3.2" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#rp-함수를-이용한-최적화"><i class="fa fa-check"></i><b>11.3.2</b> <code>rp()</code> 함수를 이용한 최적화</a></li>
<li class="chapter" data-level="11.3.3" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#위험예산-포트폴리오"><i class="fa fa-check"></i><b>11.3.3</b> 위험예산 포트폴리오</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#인덱스-포트폴리오-구성하기"><i class="fa fa-check"></i><b>11.4</b> 인덱스 포트폴리오 구성하기</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#시가총액비중-계산하기"><i class="fa fa-check"></i><b>11.4.1</b> 시가총액비중 계산하기</a></li>
<li class="chapter" data-level="11.4.2" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#인덱스-포트폴리오-복제하기"><i class="fa fa-check"></i><b>11.4.2</b> 인덱스 포트폴리오 복제하기</a></li>
<li class="chapter" data-level="11.4.3" data-path="포트폴리오-구성.html"><a href="포트폴리오-구성.html#팩터를-이용한-인핸스드-포트폴리오-구성하기"><i class="fa fa-check"></i><b>11.4.3</b> 팩터를 이용한 인핸스드 포트폴리오 구성하기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="포트폴리오-백테스트.html"><a href="포트폴리오-백테스트.html"><i class="fa fa-check"></i><b>12</b> 포트폴리오 백테스트</a>
<ul>
<li class="chapter" data-level="12.1" data-path="포트폴리오-백테스트.html"><a href="포트폴리오-백테스트.html#return.portfolio-함수"><i class="fa fa-check"></i><b>12.1</b> <code>Return.Portfolio()</code> 함수</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="포트폴리오-백테스트.html"><a href="포트폴리오-백테스트.html#인자-목록-살펴보기"><i class="fa fa-check"></i><b>12.1.1</b> 인자 목록 살펴보기</a></li>
<li class="chapter" data-level="12.1.2" data-path="포트폴리오-백테스트.html"><a href="포트폴리오-백테스트.html#출력값-살펴보기"><i class="fa fa-check"></i><b>12.1.2</b> 출력값 살펴보기</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="포트폴리오-백테스트.html"><a href="포트폴리오-백테스트.html#전통적인-60대-40-포트폴리오-백테스트"><i class="fa fa-check"></i><b>12.2</b> 전통적인 60대 40 포트폴리오 백테스트</a></li>
<li class="chapter" data-level="12.3" data-path="포트폴리오-백테스트.html"><a href="포트폴리오-백테스트.html#시점-선택-전략-백테스트"><i class="fa fa-check"></i><b>12.3</b> 시점 선택 전략 백테스트</a></li>
<li class="chapter" data-level="12.4" data-path="포트폴리오-백테스트.html"><a href="포트폴리오-백테스트.html#동적-자산배분-백테스트"><i class="fa fa-check"></i><b>12.4</b> 동적 자산배분 백테스트</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="성과-및-위험-평가.html"><a href="성과-및-위험-평가.html"><i class="fa fa-check"></i><b>13</b> 성과 및 위험 평가</a>
<ul>
<li class="chapter" data-level="13.1" data-path="성과-및-위험-평가.html"><a href="성과-및-위험-평가.html#결과-측정-지표"><i class="fa fa-check"></i><b>13.1</b> 결과 측정 지표</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="성과-및-위험-평가.html"><a href="성과-및-위험-평가.html#수익률-및-변동성"><i class="fa fa-check"></i><b>13.1.1</b> 수익률 및 변동성</a></li>
<li class="chapter" data-level="13.1.2" data-path="성과-및-위험-평가.html"><a href="성과-및-위험-평가.html#낙폭과-최대낙폭"><i class="fa fa-check"></i><b>13.1.2</b> 낙폭과 최대낙폭</a></li>
<li class="chapter" data-level="13.1.3" data-path="성과-및-위험-평가.html"><a href="성과-및-위험-평가.html#연도별-수익률"><i class="fa fa-check"></i><b>13.1.3</b> 연도별 수익률</a></li>
<li class="chapter" data-level="13.1.4" data-path="성과-및-위험-평가.html"><a href="성과-및-위험-평가.html#승률-및-롤링-윈도우-값"><i class="fa fa-check"></i><b>13.1.4</b> 승률 및 롤링 윈도우 값</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="성과-및-위험-평가.html"><a href="성과-및-위험-평가.html#팩터-회귀분석-및-테이블로-나타내기"><i class="fa fa-check"></i><b>13.2</b> 팩터 회귀분석 및 테이블로 나타내기</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://www.yes24.com/Product/Goods/97163849" target="blank">책 구입하러 가기</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R을 이용한 퀀트 투자 포트폴리오 만들기(개정판)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="퀀트-전략을-이용한-종목선정-기본" class="section level1" number="9">
<h1><span class="header-section-number">Chapter 9</span> 퀀트 전략을 이용한 종목선정 (기본)</h1>
<p>투자에 필요한 주가, 재무제표, 가치지표 데이터가 준비되었다면 퀀트 전략을 활용해 투자하고자 하는 종목을 선정해야 합니다. 퀀트 투자는 크게 포트폴리오 운용 전략과 트레이딩 전략으로 나눌 수 있습니다. 포트폴리오 운용 전략은 과거 주식 시장을 분석해 좋은 주식의 기준을 찾아낸 후 해당 기준에 만족하는 종목을 매수하거나, 이와 반대에 있는 나쁜 주식을 공매도하기도 합니다. 투자의 속도가 느리며, 다수의 종목을 하나의 포트폴리오로 구성해 운용하는 특징이 있습니다. 반면 트레이딩 전략은 단기간에 발생되는 주식의 움직임을 연구한 후 예측해 매수 혹은 매도하는 전략입니다. 투자의 속도가 빠르며 소수의 종목을 대상으로 합니다.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-410">표 9.1: </span>퀀트 투자 종류의 비교
</caption>
<thead>
<tr>
<th style="text-align:center;">
기준
</th>
<th style="text-align:center;">
포트폴리오 운용 전략
</th>
<th style="text-align:center;">
트레이딩 전략
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
투자철학
</td>
<td style="text-align:center;">
규칙에 기반한 투자
</td>
<td style="text-align:center;">
규칙에 기반한 투자
</td>
</tr>
<tr>
<td style="text-align:center;">
투자목적
</td>
<td style="text-align:center;">
좋은 주식을 매수
</td>
<td style="text-align:center;">
좋은 시점을 매수
</td>
</tr>
<tr>
<td style="text-align:center;">
학문적 기반
</td>
<td style="text-align:center;">
경제학, 통계학 등
</td>
<td style="text-align:center;">
통계학, 공학, 정보처리 등
</td>
</tr>
<tr>
<td style="text-align:center;">
투자의 속도
</td>
<td style="text-align:center;">
느림
</td>
<td style="text-align:center;">
빠름
</td>
</tr>
</tbody>
</table>
<p>이 중 이 책에서는 포트폴리오에 기반한 운용 전략에 대해 다룹니다. 주식의 수익률에 영향을 미치는 요소를 팩터(Factor)라고 합니다. 즉 팩터의 강도가 양인 종목들로 구성한 포트폴리오는 향후 수익률이 높을 것으로 예상되며, 팩터의 강도가 음인 종목들로 구성한 포트폴리오는 반대로 향후 수익률이 낮을 것으로 예상됩니다.</p>
<p>팩터에 대한 연구는 학자들에 의해 오랫동안 진행되어 왔지만, 일반 투자자들이 이러한 논문을 모두 찾아보고 연구하기는 사실상 불가능에 가깝습니다. 그러나 최근에는 스마트 베타라는 이름으로 팩터 투자가 대중화되고 있습니다. 최근 유행하고 있는 스마트 베타 ETF는 팩터를 기준으로 포트폴리오를 구성한 상품으로서, 학계나 실무에서 검증된 팩터 전략을 기반으로 합니다.</p>
<p>해당 상품들의 웹사이트나 투자설명서에는 종목 선정 기준에 대해 자세히 나와 있으므로 스마트 베타 ETF에 나와 있는 투자 전략을 자세히 분석하는 것만으로도 훌륭한 퀀트 투자 전략을 만들 수 있습니다.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-411"></span>
<img src="images/factor_smartbeta.png" alt="스마트베타 ETF 전략 예시" width="80%" />
<p class="caption">
그림 9.1: 스마트베타 ETF 전략 예시
</p>
</div>
<p>이 CHAPTER에서는 투자에 많이 활용되는 기본적인 팩터에 대해 알아보고, 우리가 구한 데이터를 바탕으로 각 팩터별 투자 종목을 선택하는 방법을 알아보겠습니다.</p>
<div id="베타-이해하기" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> 베타 이해하기</h2>
<p>투자자들이라면 누구나 한 번은 베타(Beta)라는 용어를 들어봤을 것입니다. 기본적으로 주식시장의 움직임은 개별 주식의 수익률에 가장 크게 영향을 주는 요소일 수밖에 없습니다. 아무리 좋은 주식도 주식시장이 폭락한다면 같이 떨어지며, 아무리 나쁜 주식도 주식시장이 상승한다면 대부분 같이 오르기 마련입니다.</p>
<p>개별 주식이 전체 주식시장의 변동에 반응하는 정도를 나타낸 값이 베타입니다. 베타가 1이라는 뜻은 주식시장과 움직임이 정확히 같다는 뜻으로서 시장 그 자체를 나타냅니다. 베타가 1.5라는 뜻은 주식시장이 수익률이 +1%일 때 개별 주식의 수익률은 +1.5% 움직이며, 반대로 주식시장의 수익률이 -1%일 때 개별 주식의 수익률은 -1.5% 움직인다는 뜻입니다. 반면 베타가 0.5라면 주식시장 수익률의 절반 정도만 움직이게 됩니다.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-412">표 9.2: </span>베타에 따른 개별 주식의 수익률 움직임
</caption>
<thead>
<tr>
<th style="text-align:center;">
베타
</th>
<th style="text-align:center;">
주식시장이 +1% 일 경우
</th>
<th style="text-align:center;">
주식시장이 -1% 일 경우
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
0.5
</td>
<td style="text-align:center;">
+0.5%
</td>
<td style="text-align:center;">
-0.5%
</td>
</tr>
<tr>
<td style="text-align:center;">
1.0
</td>
<td style="text-align:center;">
+1.0%
</td>
<td style="text-align:center;">
-1.0%
</td>
</tr>
<tr>
<td style="text-align:center;">
1.5
</td>
<td style="text-align:center;">
+1.5%
</td>
<td style="text-align:center;">
-1.5%
</td>
</tr>
</tbody>
</table>
<p>이처럼 베타가 큰 주식은 주식시장보다 수익률의 움직임이 크며, 반대로 베타가 낮은 주식은 주식시장보다 수익률의 움직임이 작습니다. 따라서 일반적으로 상승장이 기대될 때는 베타가 큰 주식에, 하락장이 기대될 때는 베타가 낮은 주식에 투자하는 것이 좋습니다.</p>
<p>주식시장에서 베타는 통계학의 회귀분석모형에서 기울기를 나타내는 베타와 정확히 의미가 같습니다. 회귀분석모형은 <span class="math inline">\(y = a + bx\)</span> 형태로 나타나며, 회귀계수인 <span class="math inline">\(b\)</span>는 <span class="math inline">\(x\)</span>의 변화에 따른 <span class="math inline">\(y\)</span>의 변화의 기울기입니다. 이를 주식에 적용한 모형이 자산가격결정모형(CAPM: Capital Asset Pricing Model)<span class="citation">(<a href="#ref-sharpe1964capital" role="doc-biblioref">Sharpe 1964</a>)</span>이며, 그 식은 다음과 같습니다.</p>
<p><span class="math display">\[회귀분석모형: y = a + bx\]</span>
<span class="math display">\[자산가격결정모형: R_i = R_f + \beta_i\times[R_m - R_f]\]</span></p>
<p>먼저 회귀분석모형의 상수항인 <span class="math inline">\(a\)</span>에 해당하는 부분은 무위험 수익률을 나타내는 <span class="math inline">\(R_f\)</span>입니다. 독립변수인 <span class="math inline">\(x\)</span>에 해당하는 부분은 무위험 수익률 대비 주식 시장의 초과 수익률을 나타내는 시장위험 프리미엄인 <span class="math inline">\(R_m - R_f\)</span>입니다. 종속변수인 <span class="math inline">\(y\)</span>에 해당하는 부분은 개별주식의 수익률을 나타내는 <span class="math inline">\(R_i\)</span>이며, 최종적으로 회귀계수인 <span class="math inline">\(b\)</span>에 해당하는 부분은 개별 주식의 베타입니다.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-413">표 9.3: </span>회귀분석모형과 자산가격결정모형의 비교
</caption>
<thead>
<tr>
<th style="text-align:center;">
구분
</th>
<th style="text-align:center;">
회귀분석모형
</th>
<th style="text-align:center;">
자산가격결정모형
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
상수항
</td>
<td style="text-align:center;">
a
</td>
<td style="text-align:center;">
<span class="math inline">\(R_f\)</span> (무위험 수익률)
</td>
</tr>
<tr>
<td style="text-align:center;">
독립변수
</td>
<td style="text-align:center;">
x
</td>
<td style="text-align:center;">
<span class="math inline">\(R_m - R_f\)</span> (시장위험 프리미엄)
</td>
</tr>
<tr>
<td style="text-align:center;">
종속변수
</td>
<td style="text-align:center;">
y
</td>
<td style="text-align:center;">
<span class="math inline">\(R_i\)</span> (개별주식의 수익률)
</td>
</tr>
<tr>
<td style="text-align:center;">
회귀계수
</td>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
<span class="math inline">\(\beta_i\)</span> (개별주식의 베타)
</td>
</tr>
</tbody>
</table>
<p>통계학에서 회귀계수는 <span class="math inline">\(\beta = \frac{cov(x,y)}{\sigma_x^2}\)</span> 형태로 구할 수 있으며, <span class="math inline">\(x\)</span>와 <span class="math inline">\(y\)</span>에 각각 시장수익률과 개별주식의 수익률을 대입할 경우 개별주식의 베타는 <span class="math inline">\(\beta_i= \rho(i,m) \times\frac{\sigma_i}{\sigma_m}\)</span> 형태로 구할 수 있습니다. 그러나 이러한 수식을 모르더라도 R에서는 간단히 베타를 구할 수 있습니다.</p>
<div id="베타-계산하기" class="section level3" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> 베타 계산하기</h3>
<p>베타를 구하는 방법을 알아보기 위해 주식시장에 대한 대용치로 KOSPI 200 ETF, 개별주식으로는 전통적 고베타주인 증권주를 이용하겠습니다.</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb632-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quantmod)</span>
<span id="cb632-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb632-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PerformanceAnalytics)</span>
<span id="cb632-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb632-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb632-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb632-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb632-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb632-5" aria-hidden="true" tabindex="-1"></a>symbols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&#39;102110.KS&#39;</span>, <span class="st">&#39;039490.KS&#39;</span>)</span>
<span id="cb632-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb632-6" aria-hidden="true" tabindex="-1"></a><span class="fu">getSymbols</span>(symbols)</span></code></pre></div>
<pre><code>## [1] &quot;102110.KS&quot; &quot;039490.KS&quot;</code></pre>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb634-1" aria-hidden="true" tabindex="-1"></a>prices <span class="ot">=</span> <span class="fu">do.call</span>(cbind,</span>
<span id="cb634-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb634-2" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">lapply</span>(symbols, <span class="cf">function</span>(x)<span class="fu">Cl</span>(<span class="fu">get</span>(x))))</span>
<span id="cb634-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb634-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb634-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb634-4" aria-hidden="true" tabindex="-1"></a>ret <span class="ot">=</span> <span class="fu">Return.calculate</span>(prices)</span>
<span id="cb634-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb634-5" aria-hidden="true" tabindex="-1"></a>ret <span class="ot">=</span> ret[<span class="st">&#39;2016-01::2018-12&#39;</span>]</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>KOSPI 200 ETF인 TIGER 200(102110.KS), 증권주인 키움증권(039490.KS)의 티커를 입력합니다.</li>
<li><code>getSymbols()</code> 함수를 이용하여 해당 티커들의 데이터를 다운로드 받습니다.</li>
<li><code>lapply()</code> 함수 내에 <code>Cl()</code>과 <code>get()</code>함수를 사용하여 종가에 해당하는 데이터만 추출하며, 리스트 형태의 데이터를 열의 형태로 묶어주기 위해 <code>do.call()</code> 함수와 <code>cbind()</code> 함수를 사용해 줍니다.</li>
<li><code>Return.calculate()</code> 함수를 통해 수익률을 계산해 줍니다.</li>
<li>xts 형식의 데이터는 대괄호 속에 [‘시작일자::종료일자’]와 같은 형태로, 원하는 날짜를 편리하게 선택할 수 있으며, 위에서는 2016년 1월부터 2018년 12월 까지 데이터를 선택합니다.</li>
</ol>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb635-1" aria-hidden="true" tabindex="-1"></a>rm <span class="ot">=</span> ret[, <span class="dv">1</span>]</span>
<span id="cb635-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb635-2" aria-hidden="true" tabindex="-1"></a>ri <span class="ot">=</span> ret[, <span class="dv">2</span>]</span>
<span id="cb635-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb635-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb635-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb635-4" aria-hidden="true" tabindex="-1"></a>reg <span class="ot">=</span> <span class="fu">lm</span>(ri <span class="sc">~</span> rm)</span>
<span id="cb635-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb635-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = ri ~ rm)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.06890 -0.01296 -0.00171  0.01082  0.09541 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 0.000400   0.000728    0.55     0.58    
## rm          1.764722   0.091131   19.36   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.0196 on 721 degrees of freedom
##   (결측으로 인하여 8개의 관측치가 삭제되었습니다.)
## Multiple R-squared:  0.342,  Adjusted R-squared:  0.341 
## F-statistic:  375 on 1 and 721 DF,  p-value: &lt;2e-16</code></pre>
<p>증권주를 대상으로 베타를 구하기 위한 회귀분석을 실시합니다. 자산가격결정모형의 수식인 <span class="math inline">\(R_i = R_f + \beta_i \times [R_m - R_f]\)</span> 에서 편의를 위해 무위험 수익률인 <span class="math inline">\(R_f\)</span>를 0으로 가정하면, <span class="math inline">\(R_i = \beta_i \times R_m\)</span>의 형태로 나타낼 수 있습니다. 이 중 <span class="math inline">\(R_m\)</span>는 독립변수인 주식시장의 수익률을 의미하고, <span class="math inline">\(R_i\)</span>는 종속변수인 개별 주식의 수익률을 의미합니다.</p>
<ol style="list-style-type: decimal">
<li>독립변수는 첫 번째 열인 KOSPI 200 ETF의 수익률을 선택하며, 종속변수는 두번째 열인 증권주의 수익률을 선택합니다.</li>
<li><code>lm()</code> 함수를 통해 손쉽게 선형회귀분석을 실시할 수 있으며, 회귀분석의 결과를 reg 변수에 저장합니다.</li>
<li><code>summary()</code> 함수는 데이터의 요약 정보를 나타내며, 해당 예시에서는 회귀분석 결과에 대한 정보를 보여줍니다.</li>
</ol>
<p>회귀분석의 결과 중 가장 중요한 부분은 계수를 나타내는 Coefficients입니다. Intercept는 회귀분석의 상수항에 해당하는 부분으로서, 값이 거의 0에 가깝고 t값 또한 매우 작아 유의하지 않음이 보입니다. 우리가 원하는 베타에 해당하는 부분
은 <span class="math inline">\(x\)</span>의 Estimate로서, 베타값이 1.76으로 증권주의 특성인 고베타주임이 확인되며, t값 또한 19.36로 매우 유의한 결과입니다. 조정된 결정계수(Adjusted R-square)는 0.34를 보입니다.</p>
</div>
<div id="베타-시각화" class="section level3" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> 베타 시각화</h3>
<p>이제 구해진 베타를 그림으로 표현해보겠습니다.</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb637-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">as.numeric</span>(rm), <span class="fu">as.numeric</span>(ri), <span class="at">pch =</span> <span class="dv">4</span>, <span class="at">cex =</span> <span class="fl">0.3</span>, </span>
<span id="cb637-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb637-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;KOSPI 200&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Individual Stock&quot;</span>,</span>
<span id="cb637-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb637-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.02</span>, <span class="fl">0.02</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.02</span>, <span class="fl">0.02</span>))</span>
<span id="cb637-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb637-4" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">a =</span> <span class="dv">0</span>, <span class="at">b =</span> <span class="dv">1</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb637-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb637-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(reg, <span class="at">col =</span> <span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="Quant-cookbook_files/figure-html/unnamed-chunk-416-1.png" width="100%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li><code>plot()</code> 함수를 통해 그림을 그려주며, x축과 y축에 주식시장 수익률과 개별 주식 수익률을 입력합니다. pch는 점들의 모양을, cex는 점들의 크기를 나타내며, xlab과 ylab은 각각 x축과 y축에 들어갈 문구를 나타냅니다. xlim과 ylim은 x
축과 y축의 최소 및 최대 범위를 지정해줍니다.</li>
<li>첫번째 <code>abline()</code>에서 a는 상수, b는 직선의 기울기, lty는 선의 유형을 나타냅니다. 이를 통해 기울기, 즉 베타가 1일 경우의 선을 점선으로 표현합니다.</li>
<li>두번째 <code>abline()</code>에 회귀분석 결과를 입력해주면 자동적으로 회귀식을 그려줍니다.</li>
</ol>
<p>검은색의 점선이 기울기가 1인 경우이며, 주황색의 직선이 증권주의 회귀분석결과를 나타냅니다. 기울기가 1보다 훨씬 가파름이 확인되며, 즉 베타가 1보다 크다는 사실을 알 수 있습니다.</p>
</div>
</div>
<div id="저변동성-전략" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> 저변동성 전략</h2>
<p>금융 시장에서 변동성은 수익률이 움직이는 정도로서, 일반적으로 표준편차가 사용됩니다. 표준편차는 자료가 평균을 중심으로 얼마나 퍼져 있는지를 나타내는 수치로서, 수식은 다음과 같습니다.</p>
<p><span class="math display">\[\sigma = \sqrt{\frac{\sum_{i=1}^{n}{(x_i - \bar{x})^2}}{n-1}}\]</span></p>
<p>관측값의 개수가 적을 경우에는 수식에 대입해 계산하는 것이 가능하지만, 관측값이 수백 혹은 수천 개로 늘어날 경우 컴퓨터를 이용하지 않고 계산하기는 사실상 불가능합니다. R에서는 복잡한 계산 과정 없이 <code>sd()</code> 함수를 이용해 간단하게 표준편차를 계산할 수 있습니다.</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb638-1" aria-hidden="true" tabindex="-1"></a>example <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">76</span>, <span class="dv">73</span>, <span class="dv">80</span>, <span class="dv">72</span>)</span>
<span id="cb638-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb638-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(example)</span></code></pre></div>
<pre><code>## [1] 5.357</code></pre>
<p>개별 주식의 표준편차를 측정할 때는 주식의 가격이 아닌 수익률로 계산해야 합니다. 수익률의 표준편차가 크면 수익률이 위아래로 많이 움직여 위험한 종목으로 여겨집니다. 반면 표준편차가 작으면 수익률의 움직임이 적어 상대적으로 안전한 종목으로 여겨집니다.</p>
<p>전통적 금융 이론에서는 수익률의 변동성이 클수록 위험이 크고, 이런 위험에 대한 보상으로 기대수익률이 높아야 한다고 보았습니다. 따라서 고변동성 종목의 기대수익률이 크고, 저변동성 종목의 기대수익률이 낮은 고위험 고수익이 당연한 믿음이었습니다. 그러나 현실에서는 오히려 변동성이 낮은 종목들의 수익률이 변동성이 높은 종목들의 수익률보다 높은, 저변동성 효과가 발견되고 있습니다. 이러한 저변동성 효과가 발생하는 원인으로는 여러 가설이 있습니다.</p>
<ol style="list-style-type: decimal">
<li><p>투자자들은 대체로 자신의 능력을 과신하는 경향이 있으며, 복권과 같이 큰 수익을 가져다 주는 고변동성 주식을 선호하는 경향이 있습니다. 이러한 결과로 고변동성 주식은 과대 평가되어 수익률이 낮은 반면, 과소 평가된 저변동성 주식들은 높은 수익률을 보이게 됩니다. <span class="citation">(<a href="#ref-brunnermeier2005optimal" role="doc-biblioref">Brunnermeier and Parker 2005</a>)</span></p></li>
<li><p>대부분 기관투자가들이 레버리지 투자가 되지 않는 상황에서, 벤치마크 대비 높은 성과를 얻기 위해 고변동성 주식에 투자하는 경향이 있으며, 이 또한 고변동성 주식이 과대 평가되는 결과로 이어집니다. <span class="citation">(<a href="#ref-baker2011benchmarks" role="doc-biblioref">Baker, Bradley, and Wurgler 2011</a>)</span></p></li>
<li><p>시장의 상승과 하락이 반복됨에 따라 고변동성 주식이 변동성 손실(Volatility Drag)로 인해 수익률이 하락하게 되는 이유도 있습니다. <span class="citation">(<a href="#ref-sefton2011low" role="doc-biblioref">Sefton et al. 2011</a>)</span></p></li>
</ol>
<p>주식의 위험은 변동성뿐만 아니라 베타 등 여러 지표로도 측정할 수 있습니다. 저변동성 효과와 비슷하게 고유변동성이 낮은 주식의 수익률이 높은 저고유변동성 효과<span class="citation">(<a href="#ref-ang2009high" role="doc-biblioref">Ang et al. 2009</a>)</span>, 베타가 낮은 주식의 수익률이 오히려 높은 저베타 효과<span class="citation">(<a href="#ref-baker2014low" role="doc-biblioref">Baker, Bradley, and Taliaferro 2014</a>)</span>도 발견되고 있으며, 이러한 효과들을 합쳐 저위험 효과라고 부르기도 합니다.</p>
<div id="저변동성-포트폴리오-구하기-일간-기준" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> 저변동성 포트폴리오 구하기: 일간 기준</h3>
<p>먼저 최근 1년 일간 수익률 기준 변동성이 낮은 30종목을 선택하겠습니다.</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb640-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xts)</span>
<span id="cb640-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PerformanceAnalytics)</span>
<span id="cb640-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb640-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb640-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb640-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb640-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-8" aria-hidden="true" tabindex="-1"></a>KOR_price <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_price.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb640-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> <span class="fu">as.xts</span>()</span>
<span id="cb640-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-10" aria-hidden="true" tabindex="-1"></a>KOR_ticker <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_ticker.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb640-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) </span>
<span id="cb640-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-12" aria-hidden="true" tabindex="-1"></a>KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span> <span class="ot">=</span> </span>
<span id="cb640-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_pad</span>(KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span>, <span class="dv">6</span>, <span class="st">&#39;left&#39;</span>, <span class="dv">0</span>)</span>
<span id="cb640-14"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb640-15"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-15" aria-hidden="true" tabindex="-1"></a>ret <span class="ot">=</span> <span class="fu">Return.calculate</span>(KOR_price)</span>
<span id="cb640-16"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-16" aria-hidden="true" tabindex="-1"></a>std_12m_daily <span class="ot">=</span> xts<span class="sc">::</span><span class="fu">last</span>(ret, <span class="dv">252</span>) <span class="sc">%&gt;%</span> <span class="fu">apply</span>(., <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span></span>
<span id="cb640-17"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb640-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">multiply_by</span>(<span class="fu">sqrt</span>(<span class="dv">252</span>))</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>저장해둔 가격 정보와 티커 정보를 불러옵니다. 가격 정보는 <code>as.xts()</code> 함수를 통해 xts 형태로 변경합니다.</li>
<li><code>Return.calculate()</code> 함수를 통해 수익률을 구합니다.</li>
<li><code>last()</code> 함수는 마지막 n개 데이터를 선택해주는 함수이며, 1년 영업일 기준인 252개 데이터를 선택합니다. dplyr 패키지의 <code>last()</code> 함수와 이름이 같으므로, <code>xts::last()</code> 형식을 통해 xts 패키지의 함수임을 정의해줍니다.</li>
<li><code>apply()</code> 함수를 통해 sd 즉 변동성을 계산해주며, 연율화를 해주기 위해 <code>multiply_by()</code> 함수를 통해 <span class="math inline">\(\sqrt{252}\)</span>를 곱해줍니다.</li>
</ol>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-1" aria-hidden="true" tabindex="-1"></a>std_12m_daily <span class="sc">%&gt;%</span> </span>
<span id="cb641-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb641-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> (<span class="st">`</span><span class="at">.</span><span class="st">`</span>))) <span class="sc">+</span></span>
<span id="cb641-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.01</span>) <span class="sc">+</span></span>
<span id="cb641-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;rect&quot;</span>, <span class="at">xmin =</span> <span class="sc">-</span><span class="fl">0.02</span>, <span class="at">xmax =</span> <span class="fl">0.02</span>,</span>
<span id="cb641-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">ymin =</span> <span class="dv">0</span>,</span>
<span id="cb641-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">ymax =</span> <span class="fu">sum</span>(std_12m_daily <span class="sc">==</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="fl">1.1</span>,</span>
<span id="cb641-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha=</span><span class="fl">0.3</span>, <span class="at">fill=</span><span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb641-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>)</span>
<span id="cb641-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb641-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb641-11" aria-hidden="true" tabindex="-1"></a>std_12m_daily[std_12m_daily <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">=</span> <span class="cn">NA</span></span></code></pre></div>
<p><img src="Quant-cookbook_files/figure-html/unnamed-chunk-419-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>변동성을 히스토그램으로 나타내보면, 0에 위치하는 종목들이 다수 있습니다. 해당 종목들은 최근 1년간 거래정지로 인해 가격이 변하지 않았고, 이로 인해 변동성이 없는 종목들입니다. 해당 종목들은 NA로 처리해줍니다.</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb642-1" aria-hidden="true" tabindex="-1"></a>std_12m_daily[<span class="fu">rank</span>(std_12m_daily) <span class="sc">&lt;=</span> <span class="dv">30</span>]</span></code></pre></div>
<pre><code>## X033780 X012750 X007310 X016710 X034310 X001720 X005180 X267980 X029960 X002960 
##  0.1393  0.1731  0.1665  0.1858  0.1844  0.1832  0.1532  0.1709  0.1715  0.1736 
## X072710 X000480 X002810 X001270 X001070 X092130 X015360 X018120 X130580 X034590 
##  0.1522  0.1546  0.1810  0.1671  0.1850  0.1413  0.1715  0.1063  0.1882  0.1240 
## X040420 X078000 X036670 X016670 X004450 X088910 X000850 X014100 X084670 X010400 
##  0.1330  0.1832  0.1900  0.1425  0.1289  0.1861  0.1806  0.1564  0.1803  0.1919</code></pre>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb644-1" aria-hidden="true" tabindex="-1"></a>std_12m_daily[<span class="fu">rank</span>(std_12m_daily) <span class="sc">&lt;=</span> <span class="dv">30</span>] <span class="sc">%&gt;%</span></span>
<span id="cb644-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb644-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb644-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb644-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>), <span class="at">y =</span> <span class="st">`</span><span class="at">.</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb644-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb644-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb644-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb644-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>)</span></code></pre></div>
<p><img src="Quant-cookbook_files/figure-html/unnamed-chunk-420-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p><code>rank()</code> 함수를 통해 순위를 구할 수 있으며, R은 기본적으로 오름차순 즉 가장 낮은값의 순위가 1이 됩니다. 따라서 변동성이 낮을수록 높은 순위가 되며, 30위 이하의 순위를 선택하면 변동성이 낮은 30종목이 선택됩니다. 또한 <code>ggplot()</code> 함수를 이용해 해당 종목들의 변동성을 확인해볼 수도 있습니다.</p>
<p>이번에는 해당 종목들의 티커 및 종목명을 확인하겠습니다.</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb645-1" aria-hidden="true" tabindex="-1"></a>invest_lowvol <span class="ot">=</span> <span class="fu">rank</span>(std_12m_daily) <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb645-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb645-2" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_lowvol, ] <span class="sc">%&gt;%</span></span>
<span id="cb645-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb645-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb645-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb645-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">변동성</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(std_12m_daily[invest_lowvol], <span class="dv">4</span>))</span></code></pre></div>
<pre><code>##      종목코드         종목명 변동성
## 35     033780           KT&amp;G 0.1393
## 109    012750         에스원 0.1731
## 176    007310         오뚜기 0.1665
## 365    016710     대성홀딩스 0.1858
## 393    034310           NICE 0.1844
## 415    001720       신영증권 0.1832
## 439    005180         빙그레 0.1532
## 453    267980       매일유업 0.1709
## 524    029960         코엔텍 0.1715
## 638    002960     한국쉘석유 0.1736
## 647    072710     농심홀딩스 0.1522
## 659    000480       조선내화 0.1546
## 763    002810       삼영무역 0.1810
## 845    001270       부국증권 0.1671
## 881    001070       대한방직 0.1850
## 885    092130     이크레더블 0.1413
## 933    015360   예스코홀딩스 0.1715
## 991    018120       진로발효 0.1063
## 1238   130580   나이스디앤비 0.1882
## 1415   034590   인천도시가스 0.1240
## 1467   040420 정상제이엘에스 0.1330
## 1559   078000       텔코웨어 0.1832
## 1639   036670            KCI 0.1900
## 1645   016670   인피니티엔티 0.1425
## 1685   004450       삼화왕관 0.1289
## 1814   088910 동우팜투테이블 0.1861
## 1820   000850       화천기공 0.1806
## 1902   014100       메디앙스 0.1564
## 2010   084670       동양고속 0.1803
## 2034   010400 우진아이엔에스 0.1919</code></pre>
<p>티커와 종목명, 연율화 변동성을 확인할 수 있습니다.</p>
</div>
<div id="저변동성-포트폴리오-구하기-주간-기준" class="section level3" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> 저변동성 포트폴리오 구하기: 주간 기준</h3>
<p>이번에는 일간 변동성이 아닌 주간 변동성을 기준으로 저변동성 종목을 선택하겠습니다.</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb647-1" aria-hidden="true" tabindex="-1"></a>std_12m_weekly <span class="ot">=</span> xts<span class="sc">::</span><span class="fu">last</span>(ret, <span class="dv">252</span>) <span class="sc">%&gt;%</span></span>
<span id="cb647-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb647-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">apply.weekly</span>(Return.cumulative) <span class="sc">%&gt;%</span></span>
<span id="cb647-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb647-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">apply</span>(., <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">multiply_by</span>(<span class="fu">sqrt</span>(<span class="dv">52</span>))</span>
<span id="cb647-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb647-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb647-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb647-5" aria-hidden="true" tabindex="-1"></a>std_12m_weekly[std_12m_weekly <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">=</span> <span class="cn">NA</span></span></code></pre></div>
<p>먼저 최근 252일 수익률울 선택한 후, <code>apply.weekly()</code> 함수 내 Return.cumulative를 입력해 주간 수익률을 계산하며, 연율화를 위해 연간 주수에 해당하는 <span class="math inline">\(\sqrt{52}\)</span>를 곱해줍니다. 이 외에도 <code>apply.monthly()</code>, <code>apply.yearly()</code> 함수 등으로 일간 수익률을 월간, 연간 수익률 등으로 변환할 수 있습니다. 그 후 과정은 위와 동일합니다.</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb648-1" aria-hidden="true" tabindex="-1"></a>std_12m_weekly[<span class="fu">rank</span>(std_12m_weekly) <span class="sc">&lt;=</span> <span class="dv">30</span>]</span></code></pre></div>
<pre><code>## X377300 X033780 X012750 X007310 X348370 X381970 X383800 X034310 X001720 X005180 
## 0.10932 0.12547 0.13112 0.13999 0.10304 0.11925 0.13932 0.15361 0.16768 0.16211 
## X267980 X071320 X029960 X072710 X000480 X377450 X001070 X092130 X015360 X018120 
## 0.16839 0.16525 0.17149 0.14413 0.15789 0.06138 0.14791 0.14595 0.16962 0.09998 
## X130580 X034590 X376290 X040420 X159010 X078000 X016670 X004450 X114840 X376180 
## 0.16687 0.10322 0.10085 0.15292 0.11462 0.15074 0.14976 0.12987 0.14825 0.10024</code></pre>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb650-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb650-1" aria-hidden="true" tabindex="-1"></a>invest_lowvol_weekly <span class="ot">=</span> <span class="fu">rank</span>(std_12m_weekly) <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb650-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb650-2" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_lowvol_weekly, ] <span class="sc">%&gt;%</span></span>
<span id="cb650-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb650-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb650-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb650-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">변동성</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb650-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb650-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">round</span>(std_12m_weekly[invest_lowvol_weekly], <span class="dv">4</span>))</span></code></pre></div>
<pre><code>##      종목코드           종목명 변동성
## 13     377300       카카오페이 0.1093
## 35     033780             KT&amp;G 0.1255
## 109    012750           에스원 0.1311
## 176    007310           오뚜기 0.1400
## 218    348370             엔켐 0.1030
## 241    381970           케이카 0.1193
## 373    383800         LX홀딩스 0.1393
## 393    034310             NICE 0.1536
## 415    001720         신영증권 0.1677
## 439    005180           빙그레 0.1621
## 453    267980         매일유업 0.1684
## 509    071320     지역난방공사 0.1652
## 524    029960           코엔텍 0.1715
## 647    072710       농심홀딩스 0.1441
## 659    000480         조선내화 0.1579
## 847    377450           리파인 0.0614
## 881    001070         대한방직 0.1479
## 885    092130       이크레더블 0.1460
## 933    015360     예스코홀딩스 0.1696
## 991    018120         진로발효 0.1000
## 1238   130580     나이스디앤비 0.1669
## 1415   034590     인천도시가스 0.1032
## 1419   376290         씨유테크 0.1008
## 1467   040420   정상제이엘에스 0.1529
## 1531   159010         아스플로 0.1146
## 1559   078000         텔코웨어 0.1507
## 1645   016670     인피니티엔티 0.1498
## 1685   004450         삼화왕관 0.1299
## 1745   114840 아이패밀리에스씨 0.1483
## 2054   376180         피코그램 0.1002</code></pre>
<p>주간 수익률의 변동성이 낮은 30종목을 선택해 종목코드, 종목명, 연율화 변동성을 확인합니다.</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb652-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(KOR_ticker[invest_lowvol, <span class="st">&#39;종목명&#39;</span>],</span>
<span id="cb652-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb652-2" aria-hidden="true" tabindex="-1"></a>          KOR_ticker[invest_lowvol_weekly, <span class="st">&#39;종목명&#39;</span>])</span></code></pre></div>
<pre><code>##  [1] &quot;KT&amp;G&quot;           &quot;에스원&quot;         &quot;오뚜기&quot;         &quot;NICE&quot;          
##  [5] &quot;신영증권&quot;       &quot;빙그레&quot;         &quot;매일유업&quot;       &quot;코엔텍&quot;        
##  [9] &quot;농심홀딩스&quot;     &quot;조선내화&quot;       &quot;대한방직&quot;       &quot;이크레더블&quot;    
## [13] &quot;예스코홀딩스&quot;   &quot;진로발효&quot;       &quot;나이스디앤비&quot;   &quot;인천도시가스&quot;  
## [17] &quot;정상제이엘에스&quot; &quot;텔코웨어&quot;       &quot;인피니티엔티&quot;   &quot;삼화왕관&quot;</code></pre>
<p><code>intersect()</code> 함수를 통해 일간 변동성 기준과 주간 변동성 기준 모두에 포함되는 종목을 찾을 수 있습니다.</p>
</div>
</div>
<div id="모멘텀-전략" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> 모멘텀 전략</h2>
<p>투자에서 모멘텀이란 주가 혹은 이익의 추세로서, 상승 추세의 주식은 지속적으로 상승하며 하락 추세의 주식은 지속적으로 하락하는 현상을 말합니다. 모멘텀 현상이 발생하는 가장 큰 원인은 투자자들의 스스로에 대한 과잉 신뢰 때문입니다. 사람들은 자신의 판단을 지지하는 정보에 대해서는 과잉 반응하고, 자신의 판단을 부정하는 정보에 대해서는 과소 반응하는 경향이 있습니다. 이러한 투자자들의 비합리성으로 인해모멘텀 현상이 생겨나게 됩니다.</p>
<p>모멘텀의 종류는 크게 기업의 이익에 대한 추세를 나타내는 이익 모멘텀<span class="citation">(<a href="#ref-rendleman1982empirical" role="doc-biblioref">Rendleman Jr, Jones, and Latane 1982</a>)</span>과, 주가의 모멘텀에 대한 가격 모멘텀이 있습니다. 또한 가격 모멘텀도 1주일<span class="citation">(<a href="#ref-lehmann1990fads" role="doc-biblioref">Lehmann 1990</a>)</span> 혹은 1개월 이하<span class="citation">(<a href="#ref-jegadeesh1990evidence" role="doc-biblioref">Jegadeesh 1990</a>)</span>를 의미하는 단기 모멘텀, 3개월에서 12개월을 의미하는 중기 모멘텀<span class="citation">(<a href="#ref-jegadeesh1993returns" role="doc-biblioref">Jegadeesh and Titman 1993</a>)</span>, 3년에서 5년을 의미하는 장기 모멘텀<span class="citation">(<a href="#ref-de1985does" role="doc-biblioref">De Bondt and Thaler 1985</a>)</span>이 있으며, 이 중에서도 3개월에서 12개월 가격 모멘텀을 흔히 모멘텀이라고 합니다.</p>
<div id="모멘텀-포트폴리오-구하기-12개월-모멘텀" class="section level3" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> 모멘텀 포트폴리오 구하기: 12개월 모멘텀</h3>
<p>먼저 최근 1년 동안의 수익률이 높은 30종목을 선택하겠습니다.</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb654-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xts)</span>
<span id="cb654-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PerformanceAnalytics)</span>
<span id="cb654-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb654-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb654-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb654-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-7" aria-hidden="true" tabindex="-1"></a>KOR_price <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_price.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb654-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> <span class="fu">as.xts</span>()</span>
<span id="cb654-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-9" aria-hidden="true" tabindex="-1"></a>KOR_ticker <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_ticker.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb654-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) </span>
<span id="cb654-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-11" aria-hidden="true" tabindex="-1"></a>KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span> <span class="ot">=</span></span>
<span id="cb654-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_pad</span>(KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span>, <span class="dv">6</span>, <span class="st">&#39;left&#39;</span>, <span class="dv">0</span>)</span>
<span id="cb654-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb654-14"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-14" aria-hidden="true" tabindex="-1"></a>ret <span class="ot">=</span> <span class="fu">Return.calculate</span>(KOR_price) <span class="sc">%&gt;%</span> xts<span class="sc">::</span><span class="fu">last</span>(<span class="dv">252</span>) </span>
<span id="cb654-15"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-15" aria-hidden="true" tabindex="-1"></a>ret_12m <span class="ot">=</span> ret <span class="sc">%&gt;%</span> <span class="fu">sapply</span>(., <span class="cf">function</span>(x) {</span>
<span id="cb654-16"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prod</span>(<span class="dv">1</span><span class="sc">+</span>x) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb654-17"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb654-17" aria-hidden="true" tabindex="-1"></a>  })</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>가격 정보와 티커 정보를 불러온 후 <code>Return.calculate()</code> 함수를 통해 수익률을 계산합니다. 그 후 최근 252일 수익률을 선택합니다.</li>
<li><code>sapply()</code> 함수 내부에 <code>prod()</code> 함수를 이용해 각 종목의 누적수익률을 계산해줍니다.</li>
</ol>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb655-1" aria-hidden="true" tabindex="-1"></a>ret_12m[<span class="fu">rank</span>(<span class="sc">-</span>ret_12m) <span class="sc">&lt;=</span> <span class="dv">30</span>]</span></code></pre></div>
<pre><code>## X066970 X112040 X298050 X052690 X086520 X256840 X194480 X299900 X246710 X307750 
##   4.537   6.961   3.681   4.639   3.545   5.255  11.753   6.674   4.779   2.974 
## X206560 X138490 X130660 X063170 X101730 X291230 X048910 X042600 X004830 X205500 
##   3.808   3.086   3.605   5.861   8.322   3.082   4.272   5.673   4.658   4.275 
## X013360 X053290 X088390 X090150 X039240 X038620 X015020 X136510 X181340 X025890 
##   5.991   6.266   2.977   4.605   3.473   4.064   5.404  14.348   3.418   4.495</code></pre>
<p><code>rank()</code> 함수를 통해 순위를 구합니다. 모멘텀의 경우 높을수록 좋은 내림차순으로 순위를 계산해야 하므로 수익률 앞에 마이너스(-)를 붙여줍니다. 12개월 누적수익률이 높은 종목들이 선택됨이 확인됩니다.</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb657-1" aria-hidden="true" tabindex="-1"></a>invest_mom <span class="ot">=</span> <span class="fu">rank</span>(<span class="sc">-</span>ret_12m) <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb657-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb657-2" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_mom, ] <span class="sc">%&gt;%</span></span>
<span id="cb657-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb657-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb657-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb657-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">수익률</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(ret_12m[invest_mom], <span class="dv">4</span>))</span></code></pre></div>
<pre><code>##      종목코드         종목명 수익률
## 57     066970       엘앤에프  4.537
## 61     112040       위메이드  6.961
## 117    298050   효성첨단소재  3.681
## 132    052690       한전기술  4.639
## 156    086520       에코프로  3.545
## 212    256840     한국비엔씨  5.255
## 224    194480   데브시스터즈 11.753
## 236    299900 위지윅스튜디오  6.674
## 364    246710 티앤알바이오팹  4.779
## 388    307750       국전약품  2.974
## 414    206560         덱스터  3.808
## 424    138490 코오롱플라스틱  3.086
## 467    130660       한전산업  3.605
## 468    063170       서울옥션  5.861
## 504    101730   위메이드맥스  8.322
## 517    291230           엔피  3.082
## 531    048910     대원미디어  4.272
## 572    042600       새로닉스  5.673
## 610    004830           덕성  4.658
## 642    205500     액션스퀘어  4.275
## 667    013360       일성건설  5.991
## 731    053290         NE능률  6.266
## 840    088390         이녹스  2.977
## 954    090150       광진윈텍  4.605
## 981    039240       경남스틸  3.473
## 1017   038620       위즈코프  4.064
## 1167   015020       이스타코  5.404
## 1233   136510     쎄미시스코 14.348
## 1341   181340     이즈미디어  3.418
## 1865   025890       한국주강  4.495</code></pre>
<p>티커와 종목명, 누적수익률을 확인할 수 있습니다.</p>
</div>
<div id="모멘텀-포트폴리오-구하기-위험조정-수익률" class="section level3" number="9.3.2">
<h3><span class="header-section-number">9.3.2</span> 모멘텀 포트폴리오 구하기: 위험조정 수익률</h3>
<p>단순히 과거 수익률로만 모멘텀 종목을 선택하면 각종 테마나 이벤트에 따른 급등으로 인해 변동성이 지나치게 높은 종목이 있을 수도 있습니다. 누적수익률을 변동성으로 나누어 위험을 고려해줄 경우, 이러한 종목은 제외되며 상대적으로 안정적인 모멘텀 종목을 선택할 수 있습니다.</p>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb659-1" aria-hidden="true" tabindex="-1"></a>ret <span class="ot">=</span> <span class="fu">Return.calculate</span>(KOR_price) <span class="sc">%&gt;%</span> xts<span class="sc">::</span><span class="fu">last</span>(<span class="dv">252</span>) </span>
<span id="cb659-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb659-2" aria-hidden="true" tabindex="-1"></a>ret_12m <span class="ot">=</span> ret <span class="sc">%&gt;%</span> <span class="fu">sapply</span>(., <span class="cf">function</span>(x) {</span>
<span id="cb659-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb659-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prod</span>(<span class="dv">1</span><span class="sc">+</span>x) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb659-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb659-4" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb659-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb659-5" aria-hidden="true" tabindex="-1"></a>std_12m <span class="ot">=</span> ret <span class="sc">%&gt;%</span> <span class="fu">apply</span>(., <span class="dv">2</span>, sd) <span class="sc">%&gt;%</span> <span class="fu">multiply_by</span>(<span class="fu">sqrt</span>(<span class="dv">252</span>))</span>
<span id="cb659-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb659-6" aria-hidden="true" tabindex="-1"></a>sharpe_12m <span class="ot">=</span> ret_12m <span class="sc">/</span> std_12m</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>최근 1년에 해당하는 수익률을 선택합니다.</li>
<li><code>sapply()</code>와 <code>prod()</code> 함수를 이용해 분자에 해당하는 누적수익률을 계산합니다.</li>
<li><code>apply()</code>와 <code>multiply_by()</code> 이용해 분모에 해당하는 연율화 변동성을 계산합니다.</li>
<li>수익률을 변동성으로 나누어 위험조정 수익률을 계산해줍니다.</li>
</ol>
<p>이를 통해 수익률이 높으면서 변동성이 낮은 종목을 선정할 수 있습니다.</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-1" aria-hidden="true" tabindex="-1"></a>invest_mom_sharpe <span class="ot">=</span> <span class="fu">rank</span>(<span class="sc">-</span>sharpe_12m) <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb660-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-2" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_mom_sharpe, ] <span class="sc">%&gt;%</span></span>
<span id="cb660-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb660-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">수익률</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(ret_12m[invest_mom_sharpe], <span class="dv">2</span>),</span>
<span id="cb660-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">변동성</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(std_12m[invest_mom_sharpe], <span class="dv">2</span>),</span>
<span id="cb660-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">위험조정 수익률</span><span class="st">`</span> <span class="ot">=</span></span>
<span id="cb660-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-7" aria-hidden="true" tabindex="-1"></a>           <span class="fu">round</span>(sharpe_12m[invest_mom_sharpe], <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb660-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb660-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb660-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 5
##    종목코드 종목명             수익률 변동성 `위험조정 수익률`
##    &lt;chr&gt;    &lt;chr&gt;               &lt;dbl&gt;  &lt;dbl&gt;             &lt;dbl&gt;
##  1 247540   에코프로비엠         2.9    0.46              6.27
##  2 066970   엘앤에프             4.54   0.67              6.79
##  3 112040   위메이드             6.96   0.91              7.66
##  4 138040   메리츠금융지주       2.71   0.38              7.04
##  5 298050   효성첨단소재         3.68   0.6               6.1 
##  6 052690   한전기술             4.64   0.71              6.58
##  7 067160   아프리카TV           2.65   0.49              5.37
##  8 298020   효성티앤씨           2.87   0.61              4.69
##  9 086520   에코프로             3.54   0.62              5.74
## 10 256840   한국비엔씨           5.25   1.13              4.64
## 11 194480   데브시스터즈        11.8    1.14             10.3 
## 12 299900   위지윅스튜디오       6.67   0.6              11.2 
## 13 246710   티앤알바이오팹       4.78   0.94              5.06
## 14 016710   대성홀딩스           0.96   0.19              5.15
## 15 007340   디티알오토모티브     1.82   0.33              5.54
## 16 206560   덱스터               3.81   0.68              5.57
## 17 063170   서울옥션             5.86   0.75              7.82
## 18 101730   위메이드맥스         8.32   0.96              8.63
## 19 048910   대원미디어           4.27   0.88              4.84
## 20 042600   새로닉스             5.67   0.96              5.93
## 21 003100   선광                 1.31   0.25              5.16
## 22 205500   액션스퀘어           4.28   0.86              5   
## 23 013360   일성건설             5.99   0.94              6.39
## 24 194370   제이에스코퍼레이션   2.82   0.58              4.85
## 25 004890   동일산업             1.05   0.2               5.24
## 26 053290   NE능률               6.27   1.05              5.95
## 27 090150   광진윈텍             4.61   0.88              5.21
## 28 015020   이스타코             5.4    1.08              5   
## 29 136510   쎄미시스코          14.4    1.16             12.4 
## 30 025890   한국주강             4.49   0.78              5.75</code></pre>
<p>티커와 종목명, 누적수익률, 변동성, 위험조정 수익률을 확인할 수 있습니다.</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb662-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb662-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(KOR_ticker[invest_mom, <span class="st">&#39;종목명&#39;</span>],</span>
<span id="cb662-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb662-2" aria-hidden="true" tabindex="-1"></a>          KOR_ticker[invest_mom_sharpe, <span class="st">&#39;종목명&#39;</span>])</span></code></pre></div>
<pre><code>##  [1] &quot;엘앤에프&quot;       &quot;위메이드&quot;       &quot;효성첨단소재&quot;   &quot;한전기술&quot;      
##  [5] &quot;에코프로&quot;       &quot;한국비엔씨&quot;     &quot;데브시스터즈&quot;   &quot;위지윅스튜디오&quot;
##  [9] &quot;티앤알바이오팹&quot; &quot;덱스터&quot;         &quot;서울옥션&quot;       &quot;위메이드맥스&quot;  
## [13] &quot;대원미디어&quot;     &quot;새로닉스&quot;       &quot;액션스퀘어&quot;     &quot;일성건설&quot;      
## [17] &quot;NE능률&quot;         &quot;광진윈텍&quot;       &quot;이스타코&quot;       &quot;쎄미시스코&quot;    
## [21] &quot;한국주강&quot;</code></pre>
<p><code>intersect()</code> 함수를 통해 단순 수익률 및 위험조정 수익률 기준 모두에 포함되는 종목을 찾을 수 있습니다. 다음은 위험조정 수익률 상위 30종목의 가격 그래프입니다.</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xts)</span>
<span id="cb664-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb664-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb664-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-5" aria-hidden="true" tabindex="-1"></a>KOR_price[, invest_mom_sharpe] <span class="sc">%&gt;%</span></span>
<span id="cb664-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fortify.zoo</span>() <span class="sc">%&gt;%</span></span>
<span id="cb664-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(ticker, price, <span class="sc">-</span>Index) <span class="sc">%&gt;%</span></span>
<span id="cb664-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Index, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb664-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb664-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(. <span class="sc">~</span> ticker, <span class="at">scales =</span> <span class="st">&#39;free&#39;</span>) <span class="sc">+</span></span>
<span id="cb664-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb664-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb664-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb664-14"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb664-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y=</span><span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="Quant-cookbook_files/figure-html/unnamed-chunk-431-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="밸류-전략" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> 밸류 전략</h2>
<p>가치주 효과란 내재 가치 대비 낮은 가격의 주식(저PER, 저PBR 등)이, 내재 가치 대비 비싼 주식보다 수익률이 높은 현상<span class="citation">(<a href="#ref-basu1977investment" role="doc-biblioref">Basu 1977</a>)</span>을 뜻합니다. 가치 효과가 발생하는 원인에 대한 이론은 다음과 같습니다.</p>
<ol style="list-style-type: decimal">
<li>위험한 기업은 시장에서 상대적으로 낮은 가격에 거래되며, 이러한 위험을 감당하는 대가로 수익이 발생합니다.</li>
<li>투자자들의 성장주에 대한 과잉 반응으로 인해 가치주는 시장에서 소외되며, 제자리를 찾아가는 과정에서 수익이 발생합니다.</li>
</ol>
<p>기업의 가치를 나타내는 지표는 굉장히 많지만, 일반적으로 PER, PBR, PCR, PSR이 많이 사용됩니다.</p>
<div id="밸류-포트폴리오-구하기-저pbr" class="section level3" number="9.4.1">
<h3><span class="header-section-number">9.4.1</span> 밸류 포트폴리오 구하기: 저PBR</h3>
<p>먼저 기업의 가치 여부를 판단할 때 가장 많이 사용되는 지표인 PBR을 이용한 포트폴리오를 구성하겠습니다.</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb665-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb665-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb665-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb665-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-5" aria-hidden="true" tabindex="-1"></a>KOR_value <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_value.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb665-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb665-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-7" aria-hidden="true" tabindex="-1"></a>KOR_ticker <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_ticker.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb665-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) </span>
<span id="cb665-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-9" aria-hidden="true" tabindex="-1"></a>KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span> <span class="ot">=</span></span>
<span id="cb665-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_pad</span>(KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span>, <span class="dv">6</span>, <span class="st">&#39;left&#39;</span>, <span class="dv">0</span>)</span>
<span id="cb665-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb665-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-12" aria-hidden="true" tabindex="-1"></a>invest_pbr <span class="ot">=</span> <span class="fu">rank</span>(KOR_value<span class="sc">$</span>PBR) <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb665-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-13" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_pbr, ] <span class="sc">%&gt;%</span></span>
<span id="cb665-14"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb665-15"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb665-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">PBR</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(KOR_value[invest_pbr, <span class="st">&#39;PBR&#39;</span>], <span class="dv">4</span>))</span></code></pre></div>
<pre><code>##      종목코드         종목명    PBR
## 26     015760       한국전력 0.2103
## 119    088350       한화생명 0.2164
## 127    001040             CJ 0.1853
## 145    000880           한화 0.1308
## 320    003380       하림지주 0.2451
## 385    009970 영원무역홀딩스 0.2483
## 395    012630            HDC 0.1444
## 469    032190     다우데이타 0.1599
## 509    071320   지역난방공사 0.2629
## 534    058650     세아홀딩스 0.1628
## 589    003300     한일홀딩스 0.2173
## 688    001940    KISCO홀딩스 0.2429
## 743    036530      SNT홀딩스 0.1840
## 789    092230      KPX홀딩스 0.2095
## 797    002030         아세아 0.1757
## 822    005720           넥센 0.1298
## 855    008060           대덕 0.1893
## 1329   005990     매일홀딩스 0.2317
## 1338   054800 아이디스홀딩스 0.2201
## 1524   009200     무림페이퍼 0.1758
## 1530   004840        DRB동일 0.2373
## 1537   005010         휴스틸 0.2609
## 1767   012320   경동인베스트 0.1982
## 1811   101330       모베이스 0.2350
## 1820   000850       화천기공 0.2659
## 1882   000590       CS홀딩스 0.2531
## 2056   025530      SJM홀딩스 0.2241
## 2083   024830       세원물산 0.2534
## 2120   000760       이화산업 0.2680
## 2227   141020         포티스 0.2642</code></pre>
<p>가치지표들을 저장한 데이터와 티커 데이터를 불러오며, <code>rank()</code>를 통해 PBR이 낮은 30종목을 선택합니다. 그 후 종목코드와 종목명, PBR을 확인합니다. 홀딩스 등 지주사가 그 특성상 저PBR 포트폴리오에 많이 구성되어 있습니다.</p>
</div>
<div id="각-지표-결합하기" class="section level3" number="9.4.2">
<h3><span class="header-section-number">9.4.2</span> 각 지표 결합하기</h3>
<p>저PBR 하나의 지표만으로도 우수한 성과를 거둘 수 있음은 오랜 기간 증명되고 있습니다. 그러나 저평가 주식이 계속해서 저평가에 머무르는 가치 함정에 빠지지 않으려면 여러 지표를 동시에 볼 필요도 있습니다.</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb667-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb667-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-3" aria-hidden="true" tabindex="-1"></a>rank_value <span class="ot">=</span> KOR_value <span class="sc">%&gt;%</span> </span>
<span id="cb667-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="fu">list</span>(<span class="sc">~</span><span class="fu">min_rank</span>(.)))</span>
<span id="cb667-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb667-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(rank_value, <span class="at">use =</span> <span class="st">&#39;complete.obs&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb667-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(., <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb667-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">corrplot</span>(<span class="at">method =</span> <span class="st">&#39;color&#39;</span>, <span class="at">type =</span> <span class="st">&#39;lower&#39;</span>,</span>
<span id="cb667-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">addCoef.col =</span> <span class="st">&#39;black&#39;</span>, <span class="at">number.cex =</span> <span class="dv">1</span>,</span>
<span id="cb667-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">tl.cex =</span> <span class="dv">1</span>, <span class="at">tl.srt =</span> <span class="dv">0</span>, <span class="at">tl.col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb667-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">col =</span> <span class="fu">colorRampPalette</span>(</span>
<span id="cb667-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-12" aria-hidden="true" tabindex="-1"></a>             <span class="fu">c</span>(<span class="st">&#39;blue&#39;</span>, <span class="st">&#39;white&#39;</span>, <span class="st">&#39;red&#39;</span>))(<span class="dv">200</span>),</span>
<span id="cb667-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb667-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="dv">0</span>))</span></code></pre></div>
<p><img src="Quant-cookbook_files/figure-html/unnamed-chunk-433-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>먼저 <code>mutate_all()</code> 함수를 이용해 모든 열에 함수를 적용해주며, <code>min_rank()</code>를 통해 순위를 구합니다.</p>
<p>각 열에 해당하는 가치지표별 랭킹을 구한 후 상관관계를 확인하며, NA 종목은 삭제해주기 위해 <code>use = 'complete.obs'</code>를 입력합니다.</p>
<p><code>corrplot</code> 패키지의 <code>corrplot()</code> 함수를 이용해 상관관계를 그려보면, 같은 가치지표임에도 불구하고 서로 간의 상관관계가 꽤 낮은 지표도 있습니다. 따라서 지표를 통합적으로 고려하면 분산효과를 기대할 수도 있습니다.</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-1" aria-hidden="true" tabindex="-1"></a>rank_sum <span class="ot">=</span> rank_value <span class="sc">%&gt;%</span></span>
<span id="cb668-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowSums</span>()</span>
<span id="cb668-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb668-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-4" aria-hidden="true" tabindex="-1"></a>invest_value <span class="ot">=</span> <span class="fu">rank</span>(rank_sum) <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb668-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb668-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-6" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_value, ] <span class="sc">%&gt;%</span></span>
<span id="cb668-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb668-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb668-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="fu">round</span>(KOR_value[invest_value, ], <span class="dv">2</span>))</span></code></pre></div>
<pre><code>##      종목코드           종목명   PER  PBR  PCR  PSR
## 26     015760         한국전력  7.46 0.21 1.13 0.25
## 145    000880             한화 11.32 0.13 0.70 0.05
## 272    001120     LX인터내셔널  3.43 0.58 4.00 0.09
## 304    006120     SK디스커버리  3.44 0.35 5.63 0.20
## 320    003380         하림지주 15.48 0.25 1.26 0.11
## 385    009970   영원무역홀딩스  6.19 0.25 1.45 0.23
## 412    001390         KG케미칼 13.21 0.38 1.84 0.15
## 553    002020           코오롱  2.84 0.49 1.27 0.09
## 555    009410         태영건설  0.76 0.66 0.45 0.19
## 589    003300       한일홀딩스  8.07 0.22 1.58 0.26
## 618    004690           삼천리 11.82 0.27 3.77 0.12
## 637    017940               E1  6.01 0.29 2.07 0.09
## 649    084690       대상홀딩스  4.06 0.27 2.47 0.09
## 671    000140 하이트진로홀딩스  5.27 0.32 0.93 0.15
## 677    213500         한솔제지  5.70 0.53 2.70 0.22
## 688    001940      KISCO홀딩스  9.40 0.24 2.27 0.30
## 706    016450 한세예스24홀딩스  5.90 0.43 2.92 0.11
## 719    013580         계룡건설  3.28 0.51 1.59 0.14
## 743    036530        SNT홀딩스  7.96 0.18 1.14 0.21
## 789    092230        KPX홀딩스  1.99 0.21 3.13 0.29
## 797    002030           아세아  6.39 0.18 1.41 0.18
## 894    011760   현대코퍼레이션  4.86 0.76 1.70 0.08
## 950    004960         한신공영  2.02 0.34 1.01 0.14
## 1182   000320       노루홀딩스 11.68 0.28 3.24 0.19
## 1188   002460         화성산업  4.88 0.41 1.61 0.39
## 1356   005740 크라운해태홀딩스  5.82 0.27 1.75 0.14
## 1448   036710       심텍홀딩스  5.16 0.38 0.57 0.10
## 1742   010100       한국프랜지  7.48 0.37 1.49 0.10
## 1767   012320     경동인베스트  5.62 0.20 4.61 0.27
## 1857   037400         우리조명 13.41 0.41 1.09 0.05</code></pre>
<p><code>rowSums()</code> 함수를 이용해 종목별 랭킹들의 합을 구해줍니다. 그 후 네 개 지표 랭킹의 합 기준 랭킹이 낮은 30종목을 선택합니다. 즉 하나의 지표보다 네 개 지표가 골고루 낮은 종목을 선택합니다. 해당 종목들의 티커, 종목명과 가치지표를 확인할 수 있습니다.</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb670-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb670-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(KOR_ticker[invest_pbr, <span class="st">&#39;종목명&#39;</span>],</span>
<span id="cb670-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb670-2" aria-hidden="true" tabindex="-1"></a>          KOR_ticker[invest_value, <span class="st">&#39;종목명&#39;</span>])</span></code></pre></div>
<pre><code>##  [1] &quot;한국전력&quot;       &quot;한화&quot;           &quot;하림지주&quot;       &quot;영원무역홀딩스&quot;
##  [5] &quot;한일홀딩스&quot;     &quot;KISCO홀딩스&quot;    &quot;SNT홀딩스&quot;      &quot;KPX홀딩스&quot;     
##  [9] &quot;아세아&quot;         &quot;경동인베스트&quot;</code></pre>
<p>단순 저PBR 기준 선택된 종목과 비교해봤을 때 겹치는 종목이 상당히 줄어들었습니다.</p>
</div>
</div>
<div id="퀄리티-전략" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> 퀄리티 전략</h2>
<p>기업의 우량성, 즉 퀄리티는 투자자들이 매우 중요하게 생각하는 요소입니다. 그러나 어떠한 지표가 기업의 퀄리티를 나타내는지 한 마디로 정의하기에는 너무나 주관적이고 광범위해 쉽지 않습니다. 학계 혹은 업계에서 사용되는 우량성 관련 지표는 다음과 같이 요약할 수 있습니다. <span class="citation">(<a href="#ref-hsu2019quality" role="doc-biblioref">Hsu, Kalesnik, and Kose 2019</a>)</span></p>
<ol style="list-style-type: decimal">
<li>Profitability (수익성)</li>
<li>Earnings stability (수익의 안정성)</li>
<li>Capital structure (기업 구조)</li>
<li>Growth (수익의 성장성)</li>
<li>Accounting quality (회계적 우량성)</li>
<li>Payout/dilution (배당)</li>
<li>Investment (투자)</li>
</ol>
<p>퀄리티 전략에는 재무제표 데이터가 주로 사용됩니다.</p>
<div id="f-score" class="section level3" number="9.5.1">
<h3><span class="header-section-number">9.5.1</span> F-Score</h3>
<p>F-Score 지표는 조셉 피오트로스키 교수가 발표<span class="citation">(<a href="#ref-piotroski2000value" role="doc-biblioref">Piotroski and others 2000</a>)</span>한 지표입니다. 그는 논문에서, 저PBR을 이용한 밸류 전략은 높은 성과를 기록하지만 재무 상태가 불량한 기업이 많으며, 저PBR 종목 중 재무적으로 우량한 기업을 선정해 투자한다면 성과를 훨씬 개선할 수 있다고 보았습니다.</p>
<p>F-Score에서는 재무적 우량 정도를 수익성(Profitability), 재무 성과(Financial Performance), 운영 효율성(Operating Efficiency)으로 구분해 총 9개의 지표를 선정합니다. 표 <a href="퀀트-전략을-이용한-종목선정-기본.html#tab:fscore">9.4</a>는 이를 요약한 테이블입니다.</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:fscore">표 9.4: </span>F-Score 요약
</caption>
<thead>
<tr>
<th style="text-align:center;">
지표
</th>
<th style="text-align:center;">
항목
</th>
<th style="text-align:center;">
점수
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Profitability
</td>
<td style="text-align:center;">
<span class="math inline">\(ROA\)</span>
</td>
<td style="text-align:center;">
ROA가 양수면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Profitability
</td>
<td style="text-align:center;">
<span class="math inline">\(CFO\)</span>
</td>
<td style="text-align:center;">
CFO가 양수면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Profitability
</td>
<td style="text-align:center;">
<span class="math inline">\(\Delta ROA\)</span>
</td>
<td style="text-align:center;">
ROA가 증가했으면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Profitability
</td>
<td style="text-align:center;">
<span class="math inline">\(ACCRUAL\)</span>
</td>
<td style="text-align:center;">
CFO &gt; ROA면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Financial Performance
</td>
<td style="text-align:center;">
<span class="math inline">\(\Delta LEVER\)</span>
</td>
<td style="text-align:center;">
레버리지가 감소했으면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Financial Performance
</td>
<td style="text-align:center;">
<span class="math inline">\(\Delta LIQUID\)</span>
</td>
<td style="text-align:center;">
유동성이 증가했으면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Financial Performance
</td>
<td style="text-align:center;">
<span class="math inline">\(EQ\_OFFER\)</span>
</td>
<td style="text-align:center;">
발행주식수가 감소했으면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Operating Efficiency
</td>
<td style="text-align:center;">
<span class="math inline">\(\Delta MARGIN\)</span>
</td>
<td style="text-align:center;">
매출총이익률이 증가했으면 1점
</td>
</tr>
<tr>
<td style="text-align:center;">
Operating Efficiency
</td>
<td style="text-align:center;">
<span class="math inline">\(\Delta TURN\)</span>
</td>
<td style="text-align:center;">
회전율이 증가했으면 1점
</td>
</tr>
</tbody>
</table>
<p>각 지표가 우수할 경우 1점, 그렇지 않을 경우 0점을 매겨, 총 0점부터 9점까지의 포트폴리오를 구성합니다.</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb672-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb672-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb672-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb672-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb672-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-5" aria-hidden="true" tabindex="-1"></a>KOR_fs <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">&#39;data/KOR_fs.Rds&#39;</span>)</span>
<span id="cb672-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-6" aria-hidden="true" tabindex="-1"></a>KOR_ticker <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_ticker.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb672-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) </span>
<span id="cb672-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-8" aria-hidden="true" tabindex="-1"></a>KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span> <span class="ot">=</span></span>
<span id="cb672-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb672-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_pad</span>(KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span>, <span class="dv">6</span>, <span class="st">&#39;left&#39;</span>, <span class="dv">0</span>)</span></code></pre></div>
<p>먼저 재무제표와 티커 파일을 불러옵니다. 재무제표 데이터는 Rds 형태로 저장되어 있으며, <code>readRDS()</code> 함수를 이용해 리스트 형태 그대로 불러올 수 있습니다.</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 수익성</span></span>
<span id="cb673-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-2" aria-hidden="true" tabindex="-1"></a>ROA <span class="ot">=</span> KOR_fs<span class="sc">$</span><span class="st">&#39;지배주주순이익&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;자산&#39;</span></span>
<span id="cb673-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-3" aria-hidden="true" tabindex="-1"></a>CFO <span class="ot">=</span> KOR_fs<span class="sc">$</span><span class="st">&#39;영업활동으로인한현금흐름&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;자산&#39;</span></span>
<span id="cb673-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-4" aria-hidden="true" tabindex="-1"></a>ACCURUAL <span class="ot">=</span> CFO <span class="sc">-</span> ROA</span>
<span id="cb673-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb673-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 재무성과</span></span>
<span id="cb673-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-7" aria-hidden="true" tabindex="-1"></a>LEV <span class="ot">=</span> KOR_fs<span class="sc">$</span><span class="st">&#39;장기차입금&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;자산&#39;</span></span>
<span id="cb673-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-8" aria-hidden="true" tabindex="-1"></a>LIQ <span class="ot">=</span> KOR_fs<span class="sc">$</span><span class="st">&#39;유동자산&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;유동부채&#39;</span></span>
<span id="cb673-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-9" aria-hidden="true" tabindex="-1"></a>OFFER <span class="ot">=</span> KOR_fs<span class="sc">$</span><span class="st">&#39;유상증자&#39;</span></span>
<span id="cb673-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb673-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 운영 효율성</span></span>
<span id="cb673-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-12" aria-hidden="true" tabindex="-1"></a>MARGIN <span class="ot">=</span> KOR_fs<span class="sc">$</span><span class="st">&#39;매출총이익&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;매출액&#39;</span></span>
<span id="cb673-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb673-13" aria-hidden="true" tabindex="-1"></a>TURN <span class="ot">=</span> KOR_fs<span class="sc">$</span><span class="st">&#39;매출액&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;자산&#39;</span></span></code></pre></div>
<p>지표에 해당하는 내용을 계산해줍니다.</p>
<ol style="list-style-type: decimal">
<li>ROA는 지배주주순이익을 자산으로 나누어 계산합니다.</li>
<li>CFO는 영업활동현금흐름을 자산으로 나누어 계산합니다.</li>
<li>ACCURUAL은 CFO와 ROA의 차이를 이용해 계산합니다.</li>
<li>LEV(Leverage)는 장기차입금을 자산으로 나누어 계산합니다.</li>
<li>LIQ(Liquidity)는 유동자산을 유동부채로 나누어 계산합니다.</li>
<li>우리가 받은 데이터에서는 발행주식수 데이터를 구할 수 없으므로, OFFER에 대한 대용치로 유상증자 여부를 사용합니다.</li>
<li>MARGIN은 매출총이익을 매출액으로 나누어 계산합니다.</li>
<li>TURN(Turnover)은 매출액을 자산으로 나누어 계산합니다.</li>
</ol>
<p>다음으로 각 지표들이 조건을 충족하는지 여부를 판단해, 지표별로 1점 혹은 0점을 부여합니다.</p>
<div class="sourceCode" id="cb674"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb674-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ( lubridate<span class="sc">::</span><span class="fu">month</span>(<span class="fu">Sys.Date</span>()) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>) ) {</span>
<span id="cb674-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-2" aria-hidden="true" tabindex="-1"></a>  num_col <span class="ot">=</span> <span class="fu">str_which</span>(<span class="fu">colnames</span>(KOR_fs[[<span class="dv">1</span>]]), <span class="fu">as.character</span>(lubridate<span class="sc">::</span><span class="fu">year</span>(<span class="fu">Sys.Date</span>()) <span class="sc">-</span> <span class="dv">2</span>))</span>
<span id="cb674-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb674-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-4" aria-hidden="true" tabindex="-1"></a>  num_col <span class="ot">=</span> <span class="fu">str_which</span>(<span class="fu">colnames</span>(KOR_fs[[<span class="dv">1</span>]]), <span class="fu">as.character</span>(lubridate<span class="sc">::</span><span class="fu">year</span>(<span class="fu">Sys.Date</span>()) <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb674-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb674-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb674-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-7" aria-hidden="true" tabindex="-1"></a>F_1 <span class="ot">=</span> <span class="fu">as.integer</span>(ROA[, num_col] <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb674-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-8" aria-hidden="true" tabindex="-1"></a>F_2 <span class="ot">=</span> <span class="fu">as.integer</span>(CFO[, num_col] <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb674-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-9" aria-hidden="true" tabindex="-1"></a>F_3 <span class="ot">=</span> <span class="fu">as.integer</span>(ROA[, num_col] <span class="sc">-</span> ROA[, (num_col<span class="dv">-1</span>)] <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb674-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-10" aria-hidden="true" tabindex="-1"></a>F_4 <span class="ot">=</span> <span class="fu">as.integer</span>(ACCURUAL[, num_col] <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb674-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-11" aria-hidden="true" tabindex="-1"></a>F_5 <span class="ot">=</span> <span class="fu">as.integer</span>(LEV[, num_col] <span class="sc">-</span> LEV[, (num_col<span class="dv">-1</span>)] <span class="sc">&lt;=</span> <span class="dv">0</span>) </span>
<span id="cb674-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-12" aria-hidden="true" tabindex="-1"></a>F_6 <span class="ot">=</span> <span class="fu">as.integer</span>(LIQ[, num_col] <span class="sc">-</span> LIQ[, (num_col<span class="dv">-1</span>)] <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb674-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-13" aria-hidden="true" tabindex="-1"></a>F_7 <span class="ot">=</span> <span class="fu">as.integer</span>(<span class="fu">is.na</span>(OFFER[,num_col]) <span class="sc">|</span></span>
<span id="cb674-14"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-14" aria-hidden="true" tabindex="-1"></a>                   OFFER[,num_col] <span class="sc">&lt;=</span> <span class="dv">0</span>)</span>
<span id="cb674-15"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-15" aria-hidden="true" tabindex="-1"></a>F_8 <span class="ot">=</span> <span class="fu">as.integer</span>(MARGIN[, num_col] <span class="sc">-</span></span>
<span id="cb674-16"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-16" aria-hidden="true" tabindex="-1"></a>                   MARGIN[, (num_col<span class="dv">-1</span>)] <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb674-17"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb674-17" aria-hidden="true" tabindex="-1"></a>F_9 <span class="ot">=</span> <span class="fu">as.integer</span>(TURN[,num_col] <span class="sc">-</span> TURN[,(num_col<span class="dv">-1</span>)] <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code></pre></div>
<p><code>num_col</code> 변수에 원하는 열의 위치를 구해줍니다. <strong>1월~4월에 데이터를 받을 경우 전년도 재무제표가 일부만 들어오는 경향이 있으므로, 전전년도 데이터를 사용해야 합니다.</strong> 따라서 <code>Sys.Date()</code> 함수를 통해 현재 날짜를 추출한 후, lubridate 패키지의 <code>month()</code> 함수를 이용해 해당 월을 계산합니다. <code>str_which()</code> 함수를 이용해, 만일 현재 날짜가 1~4월인 경우 열 이름이 2년전 년도를 포함하는 부분을(예: 만일 오늘이 2021년 1월 이라면 열 이름중 2019가 포함된 곳), 그렇지 않을 경우(5~12월) 열 이름이 1년전 년도를 포함하는 부분을(예: 만일 오늘이 2021년 5월 이라면 열 이름중 2020가 포함된 곳) 선택합니다.</p>
<p><code>as.integer()</code> 함수는 TRUE일 경우 1을 반환하고 FALSE일 경우 0을 반환하는 함수로서, F-Score 지표의 점수를 매기는 데 매우 유용합니다. 점수 기준은 다음과 같습니다.</p>
<ol style="list-style-type: decimal">
<li>ROA가 양수면 1점, 그렇지 않으면 0점</li>
<li>영업활동현금흐름이 양수면 1점, 그렇지 않으면 0점</li>
<li>최근 ROA가 전년 대비 증가했으면ROA[, num_col] &gt; 0 1점, 그렇지 않으면 0점</li>
<li>ACCURUAL(CFO - ROA)이 양수면 1점, 그렇지 않으면 0점</li>
<li>레버리지가 전년 대비 감소했으면 1점, 그렇지 않으면 0점</li>
<li>유동성이 전년 대비 증가했으면 1점, 그렇지 않으면 0점</li>
<li>유상증자 항목이 없거나 0보다 작으면 1점, 그렇지 않으면 0점</li>
<li>매출총이익률이 전년 대비 증가했으면 1점, 그렇지 않으면 0점</li>
<li>회전율이 전년 대비 증가했으면 1점, 그렇지 않으면 0점</li>
</ol>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb675-1" aria-hidden="true" tabindex="-1"></a>F_Table <span class="ot">=</span> <span class="fu">cbind</span>(F_1, F_2, F_3, F_4, F_5, F_6, F_7, F_8, F_9) </span>
<span id="cb675-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb675-2" aria-hidden="true" tabindex="-1"></a>F_Score <span class="ot">=</span> F_Table <span class="sc">%&gt;%</span></span>
<span id="cb675-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb675-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">apply</span>(., <span class="dv">1</span>, sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb675-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb675-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(KOR_ticker<span class="sc">$</span><span class="st">`</span><span class="at">종목명</span><span class="st">`</span>)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><code>cbind()</code> 함수를 통해 열의 형태로 묶어줍니다.</li>
<li><code>apply()</code> 함수를 통해 종목별 지표의 합을 더해 F-Score를 계산해줍니다.</li>
<li><code>setNanmes()</code> 함수를 통해 종목명을 입력합니다.</li>
</ol>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb676-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">F_dist =</span> <span class="fu">prop.table</span>(<span class="fu">table</span>(F_Score)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>))</span></code></pre></div>
<pre><code>## F_Score
##     0     1     2     3     4     5     6     7     8     9 
## 0.004 0.057 0.086 0.140 0.188 0.190 0.160 0.100 0.064 0.010</code></pre>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-1" aria-hidden="true" tabindex="-1"></a>F_dist <span class="sc">%&gt;%</span></span>
<span id="cb678-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb678-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> F_Score, <span class="at">y =</span> Freq,</span>
<span id="cb678-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">label =</span> <span class="fu">paste0</span>(Freq <span class="sc">*</span> <span class="dv">100</span>, <span class="st">&#39;%&#39;</span>))) <span class="sc">+</span></span>
<span id="cb678-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&#39;identity&#39;</span>) <span class="sc">+</span></span>
<span id="cb678-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">color =</span> <span class="st">&#39;black&#39;</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb678-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.05</span>),</span>
<span id="cb678-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb678-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb678-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb678-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() </span></code></pre></div>
<p><img src="Quant-cookbook_files/figure-html/unnamed-chunk-440-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p><code>table()</code> 함수를 통해 각 스코어별 개수를 구한 후 <code>prop.table()</code>을 통해 비중으로 변환합니다. 이를 통해 점수별 비중을 살펴보면 3~6점에 상당히 많은 종목이 분포하고 있음이 확인됩니다.</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb679-1" aria-hidden="true" tabindex="-1"></a>invest_F_Score <span class="ot">=</span> F_Score <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">9</span>)</span>
<span id="cb679-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb679-2" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_F_Score, ] <span class="sc">%&gt;%</span> </span>
<span id="cb679-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb679-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb679-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb679-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">F-Score</span><span class="st">`</span> <span class="ot">=</span> F_Score[invest_F_Score])</span></code></pre></div>
<pre><code>##      종목코드           종목명 F-Score
## 2      000660       SK하이닉스       9
## 53     009830       한화솔루션       9
## 68     021240           코웨이       9
## 73     011070         LG이노텍       9
## 146    000080       하이트진로       9
## 302    103140             풍산       9
## 363    195870       해성디에스       9
## 634    003100             선광       9
## 671    000140 하이트진로홀딩스       9
## 747    001790         대한제당       9
## 751    017890         한국알콜       9
## 881    001070         대한방직       9
## 930    091580       상신이디피       9
## 939    067900         와이엔텍       9
## 1108   004140             동방       9
## 1423   033320   제이씨현시스템       9
## 1556   003720         삼영화학       9
## 1585   253590           네오셈       9
## 1641   311390       네오크레마       9
## 1736   049800       우진플라임       9
## 1770   019770       서연탑메탈       9
## 1920   021650         한국큐빅       9
## 2073   069140         누리플랜       9</code></pre>
<p>F-Score가 9점인 종목의 티커와 종목명을 확인해봅니다. 재무적으로 우량하다고 판단되는 F-Score 9점인 종목은 총 23개가 있습니다.</p>
</div>
<div id="각-지표를-결합하기" class="section level3" number="9.5.2">
<h3><span class="header-section-number">9.5.2</span> 각 지표를 결합하기</h3>
<p>이번에는 퀄리티를 측정하는 요소 중 가장 널리 사용되는 수익성 지표를 결합한 포트폴리오를 만들어보겠습니다. 여기서 사용되는 지표는 <strong>자기자본이익률(ROE), 매출총이익(Gross Profit), 영업활동현금흐름(Cash Flow From Operating)</strong>입니다.</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb681-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb681-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb681-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb681-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-6" aria-hidden="true" tabindex="-1"></a>KOR_fs <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">&#39;data/KOR_fs.Rds&#39;</span>)</span>
<span id="cb681-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-7" aria-hidden="true" tabindex="-1"></a>KOR_ticker <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;data/KOR_ticker.csv&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>,</span>
<span id="cb681-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) </span>
<span id="cb681-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-10" aria-hidden="true" tabindex="-1"></a>KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span> <span class="ot">=</span></span>
<span id="cb681-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb681-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_pad</span>(KOR_ticker<span class="sc">$</span><span class="st">&#39;종목코드&#39;</span>, <span class="dv">6</span>, <span class="st">&#39;left&#39;</span>, <span class="dv">0</span>)</span></code></pre></div>
<div class="sourceCode" id="cb682"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb682-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ( lubridate<span class="sc">::</span><span class="fu">month</span>(<span class="fu">Sys.Date</span>()) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>) ) {</span>
<span id="cb682-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-2" aria-hidden="true" tabindex="-1"></a>  num_col <span class="ot">=</span> <span class="fu">str_which</span>(<span class="fu">colnames</span>(KOR_fs[[<span class="dv">1</span>]]), <span class="fu">as.character</span>(lubridate<span class="sc">::</span><span class="fu">year</span>(<span class="fu">Sys.Date</span>()) <span class="sc">-</span> <span class="dv">2</span>))</span>
<span id="cb682-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb682-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-4" aria-hidden="true" tabindex="-1"></a>  num_col <span class="ot">=</span> <span class="fu">str_which</span>(<span class="fu">colnames</span>(KOR_fs[[<span class="dv">1</span>]]), <span class="fu">as.character</span>(lubridate<span class="sc">::</span><span class="fu">year</span>(<span class="fu">Sys.Date</span>()) <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb682-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb682-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb682-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-7" aria-hidden="true" tabindex="-1"></a>quality_roe <span class="ot">=</span> (KOR_fs<span class="sc">$</span><span class="st">&#39;지배주주순이익&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;자본&#39;</span>)[num_col]</span>
<span id="cb682-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-8" aria-hidden="true" tabindex="-1"></a>quality_gpa <span class="ot">=</span> (KOR_fs<span class="sc">$</span><span class="st">&#39;매출총이익&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;자산&#39;</span>)[num_col]</span>
<span id="cb682-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-9" aria-hidden="true" tabindex="-1"></a>quality_cfo <span class="ot">=</span></span>
<span id="cb682-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-10" aria-hidden="true" tabindex="-1"></a>  (KOR_fs<span class="sc">$</span><span class="st">&#39;영업활동으로인한현금흐름&#39;</span> <span class="sc">/</span> KOR_fs<span class="sc">$</span><span class="st">&#39;자산&#39;</span>)[num_col]</span>
<span id="cb682-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb682-12"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-12" aria-hidden="true" tabindex="-1"></a>quality_profit <span class="ot">=</span></span>
<span id="cb682-13"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(quality_roe, quality_gpa, quality_cfo) <span class="sc">%&gt;%</span></span>
<span id="cb682-14"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb682-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(., <span class="fu">c</span>(<span class="st">&#39;ROE&#39;</span>, <span class="st">&#39;GPA&#39;</span>, <span class="st">&#39;CFO&#39;</span>))</span></code></pre></div>
<p>먼저 재무제표와 티커 파일을 불러온 후 세 가지 지표에 해당하는 값을 구한 뒤 최근년도 데이터만 선택합니다. 그런 다음 <code>cbind()</code> 함수를 이용해 지표들을 하나로 묶어줍니다. <strong>역시나 1~4월의 경우 전년도가 아닌 전전년도 회계 데이터를 사용합니다.</strong></p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-1" aria-hidden="true" tabindex="-1"></a>rank_quality <span class="ot">=</span> quality_profit <span class="sc">%&gt;%</span> </span>
<span id="cb683-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="fu">list</span>(<span class="sc">~</span><span class="fu">min_rank</span>(<span class="fu">desc</span>(.))))</span>
<span id="cb683-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb683-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(rank_quality, <span class="at">use =</span> <span class="st">&#39;complete.obs&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb683-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(., <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb683-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">corrplot</span>(<span class="at">method =</span> <span class="st">&#39;color&#39;</span>, <span class="at">type =</span> <span class="st">&#39;lower&#39;</span>,</span>
<span id="cb683-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">addCoef.col =</span> <span class="st">&#39;black&#39;</span>, <span class="at">number.cex =</span> <span class="dv">1</span>,</span>
<span id="cb683-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">tl.cex =</span> <span class="dv">1</span>, <span class="at">tl.srt =</span> <span class="dv">0</span>, <span class="at">tl.col =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb683-9"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">col =</span></span>
<span id="cb683-10"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-10" aria-hidden="true" tabindex="-1"></a>             <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">&#39;blue&#39;</span>, <span class="st">&#39;white&#39;</span>, <span class="st">&#39;red&#39;</span>))(<span class="dv">200</span>),</span>
<span id="cb683-11"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb683-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="dv">0</span>))</span></code></pre></div>
<p><img src="Quant-cookbook_files/figure-html/unnamed-chunk-444-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p><code>mutate_all()</code> 함수와 <code>min_rank()</code> 함수를 통해 지표별 랭킹을 구하며, 퀄리티 지표는 높을수록 좋은 내림차순으로 계산해야 하므로 <code>desc()</code>를 추가합니다.</p>
<p>수익성 지표 역시 서로 간의 상관관계가 낮아, 지표를 통합적으로 고려 시 분산효과를 기대할 수 있습니다.</p>
<div class="sourceCode" id="cb684"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb684-1"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-1" aria-hidden="true" tabindex="-1"></a>rank_sum <span class="ot">=</span> rank_quality <span class="sc">%&gt;%</span></span>
<span id="cb684-2"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowSums</span>()</span>
<span id="cb684-3"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb684-4"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-4" aria-hidden="true" tabindex="-1"></a>invest_quality <span class="ot">=</span> <span class="fu">rank</span>(rank_sum) <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb684-5"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb684-6"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-6" aria-hidden="true" tabindex="-1"></a>KOR_ticker[invest_quality, ] <span class="sc">%&gt;%</span></span>
<span id="cb684-7"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">종목코드</span><span class="st">`</span>, <span class="st">`</span><span class="at">종목명</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb684-8"><a href="퀀트-전략을-이용한-종목선정-기본.html#cb684-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="fu">round</span>(quality_profit[invest_quality, ], <span class="dv">4</span>))</span></code></pre></div>
<pre><code>##      종목코드           종목명    ROE    GPA    CFO
## 15     259960         크래프톤 0.4582 0.9717 0.3775
## 68     021240           코웨이 0.2717 0.7242 0.1858
## 71     137310 에스디바이오센서 0.8126 0.5871 0.3389
## 124    096530             씨젠 0.7771 0.7836 0.3501
## 142    067160       아프리카TV 0.2480 0.6733 0.2476
## 209    214150         클래시스 0.3086 0.4436 0.2771
## 227    064550       바이오니아 0.3912 0.8504 0.5005
## 240    030190     NICE평가정보 0.1824 1.2093 0.2028
## 292    069080             웹젠 0.1983 0.5419 0.2495
## 416    205470         휴마시스 0.4292 0.4531 0.2097
## 423    230360       에코마케팅 0.3550 0.9077 0.2621
## 484    220630         맘스터치 0.3047 0.7406 0.2474
## 485    287410   제이시스메디칼 0.3059 0.9031 0.4107
## 496    263720     디앤씨미디어 0.2096 0.9058 0.1947
## 500    348210           넥스틴 0.3203 0.5506 0.1842
## 514    298540   더네이쳐홀딩스 0.2453 0.7660 0.1687
## 571    206640       바디텍메드 0.3608 0.5976 0.2728
## 603    099430     바이오플러스 0.3404 0.4380 0.2639
## 689    285490           노바텍 0.2607 0.3959 0.2798
## 711    084650       랩지노믹스 0.5245 0.6563 0.4241
## 745    357230       에이치피오 0.2360 0.9534 0.2472
## 815    051160       지어소프트 0.3377 0.6393 0.2383
## 847    377450           리파인 0.4472 1.0972 0.2672
## 885    092130       이크레더블 0.2263 0.6356 0.2533
## 919    139670       키네마스터 0.1748 1.8061 0.2182
## 940    207760       미스터블루 0.2285 1.1479 0.2603
## 1035   352700     씨앤투스성진 0.4373 0.7008 0.6032
## 1238   130580     나이스디앤비 0.1562 0.9416 0.2108
## 1460   036120      SCI평가정보 0.2183 1.4139 0.2528
## 1548   238490             힘스 0.2214 0.5028 0.3619</code></pre>
<p><code>rowSums()</code> 함수를 이용해 종목별 랭킹들의 합을 구합니다. 그 후 세 개 지표 랭킹의 합 기준 랭킹이 낮은 30종목을 선택합니다. 즉 세 가지 수익 지표가 골고루 높은 종목을 선택합니다. 해당 종목들의 티커, 종목명, ROE, GPA, CFO을 출력해 확인합니다.</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-ang2009high" class="csl-entry">
Ang, Andrew, Robert J Hodrick, Yuhang Xing, and Xiaoyan Zhang. 2009. <span>“High Idiosyncratic Volatility and Low Returns: International and Further US Evidence.”</span> <em>Journal of Financial Economics</em> 91 (1): 1–23.
</div>
<div id="ref-baker2014low" class="csl-entry">
Baker, Malcolm, Brendan Bradley, and Ryan Taliaferro. 2014. <span>“The Low-Risk Anomaly: A Decomposition into Micro and Macro Effects.”</span> <em>Financial Analysts Journal</em> 70 (2): 43–58.
</div>
<div id="ref-baker2011benchmarks" class="csl-entry">
Baker, Malcolm, Brendan Bradley, and Jeffrey Wurgler. 2011. <span>“Benchmarks as Limits to Arbitrage: Understanding the Low-Volatility Anomaly.”</span> <em>Financial Analysts Journal</em> 67 (1): 40–54.
</div>
<div id="ref-basu1977investment" class="csl-entry">
Basu, Sanjoy. 1977. <span>“Investment Performance of Common Stocks in Relation to Their Price-Earnings Ratios: A Test of the Efficient Market Hypothesis.”</span> <em>The Journal of Finance</em> 32 (3): 663–82.
</div>
<div id="ref-brunnermeier2005optimal" class="csl-entry">
Brunnermeier, Markus K, and Jonathan A Parker. 2005. <span>“Optimal Expectations.”</span> <em>American Economic Review</em> 95 (4): 1092–1118.
</div>
<div id="ref-de1985does" class="csl-entry">
De Bondt, Werner FM, and Richard Thaler. 1985. <span>“Does the Stock Market Overreact?”</span> <em>The Journal of Finance</em> 40 (3): 793–805.
</div>
<div id="ref-hsu2019quality" class="csl-entry">
Hsu, Jason, Vitali Kalesnik, and Engin Kose. 2019. <span>“What Is Quality?”</span> <em>Financial Analysts Journal</em> 75 (2): 44–61.
</div>
<div id="ref-jegadeesh1990evidence" class="csl-entry">
Jegadeesh, Narasimhan. 1990. <span>“Evidence of Predictable Behavior of Security Returns.”</span> <em>The Journal of Finance</em> 45 (3): 881–98.
</div>
<div id="ref-jegadeesh1993returns" class="csl-entry">
Jegadeesh, Narasimhan, and Sheridan Titman. 1993. <span>“Returns to Buying Winners and Selling Losers: Implications for Stock Market Efficiency.”</span> <em>The Journal of Finance</em> 48 (1): 65–91.
</div>
<div id="ref-lehmann1990fads" class="csl-entry">
Lehmann, Bruce N. 1990. <span>“Fads, Martingales, and Market Efficiency.”</span> <em>The Quarterly Journal of Economics</em> 105 (1): 1–28.
</div>
<div id="ref-piotroski2000value" class="csl-entry">
Piotroski, Joseph D, and others. 2000. <span>“Value Investing: The Use of Historical Financial Statement Information to Separate Winners from Losers.”</span> <em>Journal of Accounting Research</em> 38: 1–52.
</div>
<div id="ref-rendleman1982empirical" class="csl-entry">
Rendleman Jr, Richard J, Charles P Jones, and Henry A Latane. 1982. <span>“Empirical Anomalies Based on Unexpected Earnings and the Importance of Risk Adjustments.”</span> <em>Journal of Financial Economics</em> 10 (3): 269–87.
</div>
<div id="ref-sefton2011low" class="csl-entry">
Sefton, James, David Jessop, Giuliano De Rossi, Claire Jones, and Heran Zhang. 2011. <span>“Low-Risk Investing.”</span> <em>UBS Investment Research</em>.
</div>
<div id="ref-sharpe1964capital" class="csl-entry">
Sharpe, William F. 1964. <span>“Capital Asset Prices: A Theory of Market Equilibrium Under Conditions of Risk.”</span> <em>The Journal of Finance</em> 19 (3): 425–42.
</div>
</div>
<div id="disqus_thread"></div>
<script>

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://quant-cookbook.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
            </section>

          </div>
        </div>
      </div>
<a href="데이터-분석-및-시각화하기.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="퀀트-전략을-이용한-종목선정-심화.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
},
"split_bib": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
